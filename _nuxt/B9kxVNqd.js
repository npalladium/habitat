import{y as ue,M as Wt,N as Jt,e as Le,g as Gt,o as p,p as Q,O as Ue,V as Qt,P as Kt,c as y,q as D,F as G,r as de,Q as Yt,R as Zt,S as Ct,w as S,U as Se,j as n,v as Xt,W as es,X as Ze,Y as ts,Z as qt,$ as ss,a0 as It,a1 as as,a2 as ls,a3 as ns,a4 as is,a as t,n as te,b as f,m as $e,d as U,t as E,a5 as xt,a6 as Ke,a7 as rs,a8 as os,a9 as ds,f as cs,k as us,s as Ge,aa as Qe,I as He,ab as ps,z as V,A as lt,ac as fs}from"./D1qBUFyG.js";import{L as vs,_ as ms}from"./BgcX7-jp.js";import{_ as xs}from"./B340F9Bv.js";import{_ as bs}from"./By-nkd-m.js";import{_ as ys}from"./CNXjTFNH.js";import{u as gs}from"./D2r4il3u.js";function hs(a){return ue(()=>Wt(a)?!!Jt(a)?.closest("form"):!0)}var ks=Le({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(a){const s=a,{primitiveElement:l,currentElement:i}=Kt(),r=ue(()=>s.checked??s.value);return Gt(r,(o,c)=>{if(!i.value)return;const b=i.value,x=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(x,"value").set;if(u&&o!==c){const v=new Event("input",{bubbles:!0}),_=new Event("change",{bubbles:!0});u.call(b,o),b.dispatchEvent(v),b.dispatchEvent(_)}}),(o,c)=>(p(),Q(Qt,Ue({ref_key:"primitiveElement",ref:l},{...s,...o.$attrs},{as:"input"}),null,16))}}),bt=ks,ws=Le({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(a){const s=a,l=ue(()=>typeof s.value=="object"&&Array.isArray(s.value)&&s.value.length===0&&s.required),i=ue(()=>typeof s.value=="string"||typeof s.value=="number"||typeof s.value=="boolean"||s.value===null||s.value===void 0?[{name:s.name,value:s.value}]:typeof s.value=="object"&&Array.isArray(s.value)?s.value.flatMap((r,o)=>typeof r=="object"?Object.entries(r).map(([c,b])=>({name:`${s.name}[${o}][${c}]`,value:b})):{name:`${s.name}[${o}]`,value:r}):s.value!==null&&typeof s.value=="object"&&!Array.isArray(s.value)?Object.entries(s.value).map(([r,o])=>({name:`${s.name}[${r}]`,value:o})):[]);return(r,o)=>(p(),y(G,null,[D(" We render single input if it's required "),l.value?(p(),Q(bt,Ue({key:r.name},{...s,...r.$attrs},{name:r.name,value:r.value}),null,16,["name","value"])):(p(!0),y(G,{key:1},de(i.value,c=>(p(),Q(bt,Ue({key:c.name},{ref_for:!0},{...s,...r.$attrs},{name:c.name,value:c.value}),null,16,["name","value"]))),128))],2112))}}),_s=ws;const[Ss,Cs]=ts("SwitchRoot");var qs=Le({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(a,{emit:s}){const l=a,i=s,{disabled:r}=Yt(l),o=Zt(l,"modelValue",i,{defaultValue:l.defaultValue,passive:l.modelValue===void 0});function c(){r.value||(o.value=!o.value)}const{forwardRef:b,currentElement:x}=Ct(),g=hs(x),u=ue(()=>l.id&&x.value?document.querySelector(`[for="${l.id}"]`)?.innerText:void 0);return Cs({modelValue:o,toggleCheck:c,disabled:r}),(v,_)=>(p(),Q(n(Ze),Ue(v.$attrs,{id:v.id,ref:n(b),role:"switch",type:v.as==="button"?"button":void 0,value:v.value,"aria-label":v.$attrs["aria-label"]||u.value,"aria-checked":n(o),"aria-required":v.required,"data-state":n(o)?"checked":"unchecked","data-disabled":n(r)?"":void 0,"as-child":v.asChild,as:v.as,disabled:n(r),onClick:c,onKeydown:Xt(es(c,["prevent"]),["enter"])}),{default:S(()=>[Se(v.$slots,"default",{modelValue:n(o)}),n(g)&&v.name?(p(),Q(n(_s),{key:0,type:"checkbox",name:v.name,disabled:n(r),required:v.required,value:v.value,checked:!!n(o)},null,8,["name","disabled","required","value","checked"])):D("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),Is=qs,As=Le({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(a){const s=Ss();return Ct(),(l,i)=>(p(),Q(n(Ze),{"data-state":n(s).modelValue?.value?"checked":"unchecked","data-disabled":n(s).disabled.value?"":void 0,"as-child":l.asChild,as:l.as},{default:S(()=>[Se(l.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),zs=As;const Vs={slots:{root:"relative flex items-start",base:["inline-flex items-center shrink-0 rounded-full border-2 border-transparent focus-visible:outline-2 focus-visible:outline-offset-2 data-[state=unchecked]:bg-accented","transition-[background] duration-200"],container:"flex items-center",thumb:"group pointer-events-none rounded-full bg-default shadow-lg ring-0 transition-transform duration-200 data-[state=unchecked]:translate-x-0 data-[state=unchecked]:rtl:-translate-x-0 flex items-center justify-center",icon:["absolute shrink-0 group-data-[state=unchecked]:text-dimmed opacity-0 size-10/12","transition-[color,opacity] duration-200"],wrapper:"ms-2",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"data-[state=checked]:bg-primary focus-visible:outline-primary",icon:"group-data-[state=checked]:text-primary"},secondary:{base:"data-[state=checked]:bg-secondary focus-visible:outline-secondary",icon:"group-data-[state=checked]:text-secondary"},success:{base:"data-[state=checked]:bg-success focus-visible:outline-success",icon:"group-data-[state=checked]:text-success"},info:{base:"data-[state=checked]:bg-info focus-visible:outline-info",icon:"group-data-[state=checked]:text-info"},warning:{base:"data-[state=checked]:bg-warning focus-visible:outline-warning",icon:"group-data-[state=checked]:text-warning"},error:{base:"data-[state=checked]:bg-error focus-visible:outline-error",icon:"group-data-[state=checked]:text-error"},neutral:{base:"data-[state=checked]:bg-inverted focus-visible:outline-inverted",icon:"group-data-[state=checked]:text-highlighted"}},size:{xs:{base:"w-7",container:"h-4",thumb:"size-3 data-[state=checked]:translate-x-3 data-[state=checked]:rtl:-translate-x-3",wrapper:"text-xs"},sm:{base:"w-8",container:"h-4",thumb:"size-3.5 data-[state=checked]:translate-x-3.5 data-[state=checked]:rtl:-translate-x-3.5",wrapper:"text-xs"},md:{base:"w-9",container:"h-5",thumb:"size-4 data-[state=checked]:translate-x-4 data-[state=checked]:rtl:-translate-x-4",wrapper:"text-sm"},lg:{base:"w-10",container:"h-5",thumb:"size-4.5 data-[state=checked]:translate-x-4.5 data-[state=checked]:rtl:-translate-x-4.5",wrapper:"text-sm"},xl:{base:"w-11",container:"h-6",thumb:"size-5 data-[state=checked]:translate-x-5 data-[state=checked]:rtl:-translate-x-5",wrapper:"text-base"}},checked:{true:{icon:"group-data-[state=checked]:opacity-100"}},unchecked:{true:{icon:"group-data-[state=unchecked]:opacity-100"}},loading:{true:{icon:"animate-spin"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{root:"opacity-75",base:"cursor-not-allowed",label:"cursor-not-allowed",description:"cursor-not-allowed"}}},defaultVariants:{color:"primary",size:"md"}},js=Object.assign({inheritAttrs:!1},{__name:"USwitch",props:xt({as:{type:null,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1},checkedIcon:{type:null,required:!1},uncheckedIcon:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},value:{type:String,required:!1},defaultValue:{type:Boolean,required:!1}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:xt(["change"],["update:modelValue"]),setup(a,{emit:s}){const l=a,i=qt(),r=s,o=ss(a,"modelValue",{type:Boolean,default:void 0}),c=It(),b=as(ls(l,"required","value","defaultValue")),{id:x,emitFormChange:g,emitFormInput:u,size:v,color:_,name:I,disabled:H,ariaAttrs:M}=ns(l),R=x.value??is(),T=ue(()=>Ke({extend:Ke(Vs),...c.ui?.switch||{}})({size:v.value,color:_.value,required:l.required,loading:l.loading,disabled:H.value||l.loading}));function N(P){const O=new Event("change",{target:{value:P}});r("change",O),g(),u()}return(P,O)=>(p(),Q(n(Ze),{as:a.as,"data-slot":"root",class:te(T.value.root({class:[l.ui?.root,l.class]}))},{default:S(()=>[t("div",{"data-slot":"container",class:te(T.value.container({class:l.ui?.container}))},[f(n(Is),Ue({id:n(R)},{...n(b),...P.$attrs,...n(M)},{modelValue:o.value,"onUpdate:modelValue":[O[0]||(O[0]=A=>o.value=A),N],name:n(I),disabled:n(H)||a.loading,"data-slot":"base",class:T.value.base({class:l.ui?.base})}),{default:S(()=>[f(n(zs),{"data-slot":"thumb",class:te(T.value.thumb({class:l.ui?.thumb}))},{default:S(()=>[a.loading?(p(),Q($e,{key:0,name:a.loadingIcon||n(c).ui.icons.loading,"data-slot":"icon",class:te(T.value.icon({class:l.ui?.icon,checked:!0,unchecked:!0}))},null,8,["name","class"])):(p(),y(G,{key:1},[a.checkedIcon?(p(),Q($e,{key:0,name:a.checkedIcon,"data-slot":"icon",class:te(T.value.icon({class:l.ui?.icon,checked:!0}))},null,8,["name","class"])):D("",!0),a.uncheckedIcon?(p(),Q($e,{key:1,name:a.uncheckedIcon,"data-slot":"icon",class:te(T.value.icon({class:l.ui?.icon,unchecked:!0}))},null,8,["name","class"])):D("",!0)],64))]),_:1},8,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),a.label||i.label||a.description||i.description?(p(),y("div",{key:0,"data-slot":"wrapper",class:te(T.value.wrapper({class:l.ui?.wrapper}))},[a.label||i.label?(p(),Q(n(vs),{key:0,for:n(R),"data-slot":"label",class:te(T.value.label({class:l.ui?.label}))},{default:S(()=>[Se(P.$slots,"label",{label:a.label},()=>[U(E(a.label),1)])]),_:3},8,["for","class"])):D("",!0),a.description||i.description?(p(),y("p",{key:1,"data-slot":"description",class:te(T.value.description({class:l.ui?.description}))},[Se(P.$slots,"description",{description:a.description},()=>[U(E(a.description),1)])],2)):D("",!0)],2)):D("",!0)]),_:3},8,["as","class"]))}}),$s={slots:{base:"font-medium inline-flex items-center",label:"truncate",leadingIcon:"shrink-0",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailingIcon:"shrink-0"},variants:{fieldGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none focus-visible:z-[1]",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none focus-visible:z-[1]"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{solid:"",outline:"",soft:"",subtle:""},size:{xs:{base:"text-[8px]/3 px-1 py-0.5 gap-1 rounded-sm",leadingIcon:"size-3",leadingAvatarSize:"3xs",trailingIcon:"size-3"},sm:{base:"text-[10px]/3 px-1.5 py-1 gap-1 rounded-sm",leadingIcon:"size-3",leadingAvatarSize:"3xs",trailingIcon:"size-3"},md:{base:"text-xs px-2 py-1 gap-1 rounded-md",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},lg:{base:"text-sm px-2 py-1 gap-1.5 rounded-md",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"text-base px-2.5 py-1 gap-1.5 rounded-md",leadingIcon:"size-6",leadingAvatarSize:"2xs",trailingIcon:"size-6"}},square:{true:""}},compoundVariants:[{color:"primary",variant:"solid",class:"bg-primary text-inverted"},{color:"secondary",variant:"solid",class:"bg-secondary text-inverted"},{color:"success",variant:"solid",class:"bg-success text-inverted"},{color:"info",variant:"solid",class:"bg-info text-inverted"},{color:"warning",variant:"solid",class:"bg-warning text-inverted"},{color:"error",variant:"solid",class:"bg-error text-inverted"},{color:"primary",variant:"outline",class:"text-primary ring ring-inset ring-primary/50"},{color:"secondary",variant:"outline",class:"text-secondary ring ring-inset ring-secondary/50"},{color:"success",variant:"outline",class:"text-success ring ring-inset ring-success/50"},{color:"info",variant:"outline",class:"text-info ring ring-inset ring-info/50"},{color:"warning",variant:"outline",class:"text-warning ring ring-inset ring-warning/50"},{color:"error",variant:"outline",class:"text-error ring ring-inset ring-error/50"},{color:"primary",variant:"soft",class:"bg-primary/10 text-primary"},{color:"secondary",variant:"soft",class:"bg-secondary/10 text-secondary"},{color:"success",variant:"soft",class:"bg-success/10 text-success"},{color:"info",variant:"soft",class:"bg-info/10 text-info"},{color:"warning",variant:"soft",class:"bg-warning/10 text-warning"},{color:"error",variant:"soft",class:"bg-error/10 text-error"},{color:"primary",variant:"subtle",class:"bg-primary/10 text-primary ring ring-inset ring-primary/25"},{color:"secondary",variant:"subtle",class:"bg-secondary/10 text-secondary ring ring-inset ring-secondary/25"},{color:"success",variant:"subtle",class:"bg-success/10 text-success ring ring-inset ring-success/25"},{color:"info",variant:"subtle",class:"bg-info/10 text-info ring ring-inset ring-info/25"},{color:"warning",variant:"subtle",class:"bg-warning/10 text-warning ring ring-inset ring-warning/25"},{color:"error",variant:"subtle",class:"bg-error/10 text-error ring ring-inset ring-error/25"},{color:"neutral",variant:"solid",class:"text-inverted bg-inverted"},{color:"neutral",variant:"outline",class:"ring ring-inset ring-accented text-default bg-default"},{color:"neutral",variant:"soft",class:"text-default bg-elevated"},{color:"neutral",variant:"subtle",class:"ring ring-inset ring-accented text-default bg-elevated"},{size:"xs",square:!0,class:"p-0.5"},{size:"sm",square:!0,class:"p-1"},{size:"md",square:!0,class:"p-1"},{size:"lg",square:!0,class:"p-1"},{size:"xl",square:!0,class:"p-1"}],defaultVariants:{color:"primary",variant:"solid",size:"md"}},Us={__name:"UBadge",props:{as:{type:null,required:!1,default:"span"},label:{type:[String,Number],required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},square:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1}},setup(a){const s=a,l=qt(),i=It(),{orientation:r,size:o}=rs(s),{isLeading:c,isTrailing:b,leadingIconName:x,trailingIconName:g}=os(s),u=ue(()=>Ke({extend:Ke($s),...i.ui?.badge||{}})({color:s.color,variant:s.variant,size:o.value||s.size,square:s.square||!l.default&&!s.label,fieldGroup:r.value}));return(v,_)=>(p(),Q(n(Ze),{as:a.as,"data-slot":"base",class:te(u.value.base({class:[s.ui?.base,s.class]}))},{default:S(()=>[Se(v.$slots,"leading",{ui:u.value},()=>[n(c)&&n(x)?(p(),Q($e,{key:0,name:n(x),"data-slot":"leadingIcon",class:te(u.value.leadingIcon({class:s.ui?.leadingIcon}))},null,8,["name","class"])):a.avatar?(p(),Q(ds,Ue({key:1,size:s.ui?.leadingAvatarSize||u.value.leadingAvatarSize()},a.avatar,{"data-slot":"leadingAvatar",class:u.value.leadingAvatar({class:s.ui?.leadingAvatar})}),null,16,["size","class"])):D("",!0)]),Se(v.$slots,"default",{ui:u.value},()=>[a.label!==void 0&&a.label!==null?(p(),y("span",{key:0,"data-slot":"label",class:te(u.value.label({class:s.ui?.label}))},E(a.label),3)):D("",!0)]),Se(v.$slots,"trailing",{ui:u.value},()=>[n(b)&&n(g)?(p(),Q($e,{key:0,name:n(g),"data-slot":"trailingIcon",class:te(u.value.trailingIcon({class:s.ui?.trailingIcon}))},null,8,["name","class"])):D("",!0)])]),_:3},8,["as","class"]))}};var Z=Uint8Array,ie=Uint16Array,ct=Int32Array,ut=new Z([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pt=new Z([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),yt=new Z([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),At=function(a,s){for(var l=new ie(31),i=0;i<31;++i)l[i]=s+=1<<a[i-1];for(var r=new ct(l[30]),i=1;i<30;++i)for(var o=l[i];o<l[i+1];++o)r[o]=o-l[i]<<5|i;return{b:l,r}},zt=At(ut,2),Es=zt.b,it=zt.r;Es[28]=258,it[258]=28;var Ms=At(pt,0),gt=Ms.r,rt=new ie(32768);for(var B=0;B<32768;++B){var ke=(B&43690)>>1|(B&21845)<<1;ke=(ke&52428)>>2|(ke&13107)<<2,ke=(ke&61680)>>4|(ke&3855)<<4,rt[B]=((ke&65280)>>8|(ke&255)<<8)>>1}var Fe=(function(a,s,l){for(var i=a.length,r=0,o=new ie(s);r<i;++r)a[r]&&++o[a[r]-1];var c=new ie(s);for(r=1;r<s;++r)c[r]=c[r-1]+o[r-1]<<1;var b;if(l){b=new ie(1<<s);var x=15-s;for(r=0;r<i;++r)if(a[r])for(var g=r<<4|a[r],u=s-a[r],v=c[a[r]-1]++<<u,_=v|(1<<u)-1;v<=_;++v)b[rt[v]>>x]=g}else for(b=new ie(i),r=0;r<i;++r)a[r]&&(b[r]=rt[c[a[r]-1]++]>>15-a[r]);return b}),Ce=new Z(288);for(var B=0;B<144;++B)Ce[B]=8;for(var B=144;B<256;++B)Ce[B]=9;for(var B=256;B<280;++B)Ce[B]=7;for(var B=280;B<288;++B)Ce[B]=8;var Ye=new Z(32);for(var B=0;B<32;++B)Ye[B]=5;var Ds=Fe(Ce,9,0),Os=Fe(Ye,5,0),Vt=function(a){return(a+7)/8|0},jt=function(a,s,l){return(l==null||l>a.length)&&(l=a.length),new Z(a.subarray(s,l))},Bs=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Xe=function(a,s,l){var i=new Error(s||Bs[a]);if(i.code=a,Error.captureStackTrace&&Error.captureStackTrace(i,Xe),!l)throw i;return i},me=function(a,s,l){l<<=s&7;var i=s/8|0;a[i]|=l,a[i+1]|=l>>8},Te=function(a,s,l){l<<=s&7;var i=s/8|0;a[i]|=l,a[i+1]|=l>>8,a[i+2]|=l>>16},nt=function(a,s){for(var l=[],i=0;i<a.length;++i)a[i]&&l.push({s:i,f:a[i]});var r=l.length,o=l.slice();if(!r)return{t:Ut,l:0};if(r==1){var c=new Z(l[0].s+1);return c[l[0].s]=1,{t:c,l:1}}l.sort(function(A,K){return A.f-K.f}),l.push({s:-1,f:25001});var b=l[0],x=l[1],g=0,u=1,v=2;for(l[0]={s:-1,f:b.f+x.f,l:b,r:x};u!=r-1;)b=l[l[g].f<l[v].f?g++:v++],x=l[g!=u&&l[g].f<l[v].f?g++:v++],l[u++]={s:-1,f:b.f+x.f,l:b,r:x};for(var _=o[0].s,i=1;i<r;++i)o[i].s>_&&(_=o[i].s);var I=new ie(_+1),H=ot(l[u-1],I,0);if(H>s){var i=0,M=0,R=H-s,T=1<<R;for(o.sort(function(K,q){return I[q.s]-I[K.s]||K.f-q.f});i<r;++i){var N=o[i].s;if(I[N]>s)M+=T-(1<<H-I[N]),I[N]=s;else break}for(M>>=R;M>0;){var P=o[i].s;I[P]<s?M-=1<<s-I[P]++-1:++i}for(;i>=0&&M;--i){var O=o[i].s;I[O]==s&&(--I[O],++M)}H=s}return{t:new Z(I),l:H}},ot=function(a,s,l){return a.s==-1?Math.max(ot(a.l,s,l+1),ot(a.r,s,l+1)):s[a.s]=l},ht=function(a){for(var s=a.length;s&&!a[--s];);for(var l=new ie(++s),i=0,r=a[0],o=1,c=function(x){l[i++]=x},b=1;b<=s;++b)if(a[b]==r&&b!=s)++o;else{if(!r&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(r),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(r);o=1,r=a[b]}return{c:l.subarray(0,i),n:s}},Re=function(a,s){for(var l=0,i=0;i<s.length;++i)l+=a[i]*s[i];return l},$t=function(a,s,l){var i=l.length,r=Vt(s+2);a[r]=i&255,a[r+1]=i>>8,a[r+2]=a[r]^255,a[r+3]=a[r+1]^255;for(var o=0;o<i;++o)a[r+o+4]=l[o];return(r+4+i)*8},kt=function(a,s,l,i,r,o,c,b,x,g,u){me(s,u++,l),++r[256];for(var v=nt(r,15),_=v.t,I=v.l,H=nt(o,15),M=H.t,R=H.l,T=ht(_),N=T.c,P=T.n,O=ht(M),A=O.c,K=O.n,q=new ie(19),k=0;k<N.length;++k)++q[N[k]&31];for(var k=0;k<A.length;++k)++q[A[k]&31];for(var w=nt(q,7),X=w.t,xe=w.l,ee=19;ee>4&&!X[yt[ee-1]];--ee);var be=g+5<<3,le=Re(r,Ce)+Re(o,Ye)+c,ne=Re(r,_)+Re(o,M)+c+14+3*ee+Re(q,X)+2*q[16]+3*q[17]+7*q[18];if(x>=0&&be<=le&&be<=ne)return $t(s,u,a.subarray(x,x+g));var se,F,ae,ce;if(me(s,u,1+(ne<le)),u+=2,ne<le){se=Fe(_,I,0),F=_,ae=Fe(M,R,0),ce=M;var qe=Fe(X,xe,0);me(s,u,P-257),me(s,u+5,K-1),me(s,u+10,ee-4),u+=14;for(var k=0;k<ee;++k)me(s,u+3*k,X[yt[k]]);u+=3*ee;for(var re=[N,A],oe=0;oe<2;++oe)for(var pe=re[oe],k=0;k<pe.length;++k){var z=pe[k]&31;me(s,u,qe[z]),u+=X[z],z>15&&(me(s,u,pe[k]>>5&127),u+=pe[k]>>12)}}else se=Ds,F=Ce,ae=Os,ce=Ye;for(var k=0;k<b;++k){var W=i[k];if(W>255){var z=W>>18&31;Te(s,u,se[z+257]),u+=F[z+257],z>7&&(me(s,u,W>>23&31),u+=ut[z]);var ye=W&31;Te(s,u,ae[ye]),u+=ce[ye],ye>3&&(Te(s,u,W>>5&8191),u+=pt[ye])}else Te(s,u,se[W]),u+=F[W]}return Te(s,u,se[256]),u+F[256]},Hs=new ct([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ut=new Z(0),Ts=function(a,s,l,i,r,o){var c=o.z||a.length,b=new Z(i+c+5*(1+Math.ceil(c/7e3))+r),x=b.subarray(i,b.length-r),g=o.l,u=(o.r||0)&7;if(s){u&&(x[0]=o.r>>3);for(var v=Hs[s-1],_=v>>13,I=v&8191,H=(1<<l)-1,M=o.p||new ie(32768),R=o.h||new ie(H+1),T=Math.ceil(l/3),N=2*T,P=function(Me){return(a[Me]^a[Me+1]<<T^a[Me+2]<<N)&H},O=new ct(25e3),A=new ie(288),K=new ie(32),q=0,k=0,w=o.i||0,X=0,xe=o.w||0,ee=0;w+2<c;++w){var be=P(w),le=w&32767,ne=R[be];if(M[le]=ne,R[be]=le,xe<=w){var se=c-w;if((q>7e3||X>24576)&&(se>423||!g)){u=kt(a,x,0,O,A,K,k,X,ee,w-ee,u),X=q=k=0,ee=w;for(var F=0;F<286;++F)A[F]=0;for(var F=0;F<30;++F)K[F]=0}var ae=2,ce=0,qe=I,re=le-ne&32767;if(se>2&&be==P(w-re))for(var oe=Math.min(_,se)-1,pe=Math.min(32767,w),z=Math.min(258,se);re<=pe&&--qe&&le!=ne;){if(a[w+ae]==a[w+ae-re]){for(var W=0;W<z&&a[w+W]==a[w+W-re];++W);if(W>ae){if(ae=W,ce=re,W>oe)break;for(var ye=Math.min(re,W-2),Ne=0,F=0;F<ye;++F){var Ee=w-re+F&32767,ge=M[Ee],Ie=Ee-ge&32767;Ie>Ne&&(Ne=Ie,ne=Ee)}}}le=ne,ne=M[le],re+=le-ne&32767}if(ce){O[X++]=268435456|it[ae]<<18|gt[ce];var L=it[ae]&31,Pe=gt[ce]&31;k+=ut[L]+pt[Pe],++A[257+L],++K[Pe],xe=w+ae,++q}else O[X++]=a[w],++A[a[w]]}}for(w=Math.max(w,xe);w<c;++w)O[X++]=a[w],++A[a[w]];u=kt(a,x,g,O,A,K,k,X,ee,w-ee,u),g||(o.r=u&7|x[u/8|0]<<3,u-=7,o.h=R,o.p=M,o.i=w,o.w=xe)}else{for(var w=o.w||0;w<c+g;w+=65535){var Ae=w+65535;Ae>=c&&(x[u/8|0]=g,Ae=c),u=$t(x,u+1,a.subarray(w,Ae))}o.i=c}return jt(b,0,i+Vt(u)+r)},Rs=(function(){for(var a=new Int32Array(256),s=0;s<256;++s){for(var l=s,i=9;--i;)l=(l&1&&-306674912)^l>>>1;a[s]=l}return a})(),Fs=function(){var a=-1;return{p:function(s){for(var l=a,i=0;i<s.length;++i)l=Rs[l&255^s[i]]^l>>>8;a=l},d:function(){return~a}}},Ls=function(a,s,l,i,r){if(!r&&(r={l:1},s.dictionary)){var o=s.dictionary.subarray(-32768),c=new Z(o.length+a.length);c.set(o),c.set(a,o.length),a=c,r.w=o.length}return Ts(a,s.level==null?6:s.level,s.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(a.length)))*1.5):20:12+s.mem,l,i,r)},Et=function(a,s){var l={};for(var i in a)l[i]=a[i];for(var i in s)l[i]=s[i];return l},Y=function(a,s,l){for(;l;++s)a[s]=l,l>>>=8};function Ns(a,s){return Ls(a,s||{},0,0)}var Mt=function(a,s,l,i){for(var r in a){var o=a[r],c=s+r,b=i;Array.isArray(o)&&(b=Et(i,o[1]),o=o[0]),o instanceof Z?l[c]=[o,b]:(l[c+="/"]=[new Z(0),b],Mt(o,c,l,i))}},wt=typeof TextEncoder<"u"&&new TextEncoder,Ps=typeof TextDecoder<"u"&&new TextDecoder,Ws=0;try{Ps.decode(Ut,{stream:!0}),Ws=1}catch{}function _t(a,s){var l;if(wt)return wt.encode(a);for(var i=a.length,r=new Z(a.length+(a.length>>1)),o=0,c=function(g){r[o++]=g},l=0;l<i;++l){if(o+5>r.length){var b=new Z(o+8+(i-l<<1));b.set(r),r=b}var x=a.charCodeAt(l);x<128||s?c(x):x<2048?(c(192|x>>6),c(128|x&63)):x>55295&&x<57344?(x=65536+(x&1047552)|a.charCodeAt(++l)&1023,c(240|x>>18),c(128|x>>12&63),c(128|x>>6&63),c(128|x&63)):(c(224|x>>12),c(128|x>>6&63),c(128|x&63))}return jt(r,0,o)}var dt=function(a){var s=0;if(a)for(var l in a){var i=a[l].length;i>65535&&Xe(9),s+=i+4}return s},St=function(a,s,l,i,r,o,c,b){var x=i.length,g=l.extra,u=b&&b.length,v=dt(g);Y(a,s,c!=null?33639248:67324752),s+=4,c!=null&&(a[s++]=20,a[s++]=l.os),a[s]=20,s+=2,a[s++]=l.flag<<1|(o<0&&8),a[s++]=r&&8,a[s++]=l.compression&255,a[s++]=l.compression>>8;var _=new Date(l.mtime==null?Date.now():l.mtime),I=_.getFullYear()-1980;if((I<0||I>119)&&Xe(10),Y(a,s,I<<25|_.getMonth()+1<<21|_.getDate()<<16|_.getHours()<<11|_.getMinutes()<<5|_.getSeconds()>>1),s+=4,o!=-1&&(Y(a,s,l.crc),Y(a,s+4,o<0?-o-2:o),Y(a,s+8,l.size)),Y(a,s+12,x),Y(a,s+14,v),s+=16,c!=null&&(Y(a,s,u),Y(a,s+6,l.attrs),Y(a,s+10,c),s+=14),a.set(i,s),s+=x,v)for(var H in g){var M=g[H],R=M.length;Y(a,s,+H),Y(a,s+2,R),a.set(M,s+4),s+=4+R}return u&&(a.set(b,s),s+=u),s},Js=function(a,s,l,i,r){Y(a,s,101010256),Y(a,s+8,l),Y(a,s+10,l),Y(a,s+12,i),Y(a,s+16,r)};function Gs(a,s){s||(s={});var l={},i=[];Mt(a,"",l,s);var r=0,o=0;for(var c in l){var b=l[c],x=b[0],g=b[1],u=g.level==0?0:8,v=_t(c),_=v.length,I=g.comment,H=I&&_t(I),M=H&&H.length,R=dt(g.extra);_>65535&&Xe(11);var T=u?Ns(x,g):x,N=T.length,P=Fs();P.p(x),i.push(Et(g,{size:x.length,crc:P.d(),c:T,f:v,m:H,u:_!=c.length||H&&I.length!=M,o:r,compression:u})),r+=30+_+R+N,o+=76+2*(_+R)+(M||0)+N}for(var O=new Z(o+22),A=r,K=o-r,q=0;q<i.length;++q){var v=i[q];St(O,v.o,v,v.f,v.u,v.c.length);var k=30+v.f.length+dt(v.extra);O.set(v.c,v.o+k),St(O,r,v,v.f,v.u,v.c.length,v.o,v.m),r+=16+k+(v.m?v.m.length:0)}return Js(O,r,i.length,K,A),O}const Qs={class:"space-y-6"},Ks={class:"space-y-2"},Ys={class:"flex items-center justify-between px-4 py-3.5"},Zs={class:"space-y-0"},Xs={class:"flex items-center justify-between px-4 py-3.5"},ea={key:0,class:"flex items-center justify-between px-4 pb-3.5"},ta={class:"flex items-center gap-2"},sa={class:"w-4 text-center text-sm font-medium tabular-nums"},aa={class:"flex items-center justify-between px-4 py-3.5"},la={class:"flex items-center justify-between px-4 py-3"},na={class:"flex items-center justify-between px-4 py-3"},ia={class:"flex items-center justify-between px-4 py-3"},ra={class:"flex items-center justify-between px-4 py-3 pb-3.5"},oa={class:"px-4 py-3 pb-4 space-y-2"},da={class:"flex gap-2"},ca={class:"space-y-2"},ua={class:"flex items-center justify-between px-4 py-3.5"},pa={class:"flex items-center justify-between px-4 py-3.5"},fa={class:"space-y-2"},va={class:"flex items-center justify-between px-4 py-3.5"},ma={class:"space-y-2"},xa={class:"flex items-center justify-between px-4 py-3.5"},ba={class:"flex items-center justify-between px-4 py-3.5"},ya={class:"flex items-center justify-between px-4 py-3.5"},ga={class:"flex items-center justify-between px-4 py-3.5"},ha={class:"flex items-center justify-between px-4 py-3.5"},ka={class:"space-y-2"},wa={class:"flex items-center justify-between px-4 py-3.5"},_a={class:"space-y-0.5"},Sa={class:"text-xs"},Ca={key:0,class:"text-green-400"},qa={key:1,class:"text-red-400"},Ia={key:2,class:"text-slate-500"},Aa={class:"shrink-0"},za={key:1,class:"w-2 h-2 rounded-full bg-green-400 mx-2"},Va={class:"space-y-2"},ja={class:"flex items-center justify-between px-4 py-3.5"},$a={class:"text-sm font-mono font-medium"},Ua={class:"flex items-center justify-between px-4 py-3.5"},Ea={class:"text-sm font-mono text-slate-300"},Ma={key:0,class:"flex items-center justify-between px-4 py-3.5"},Da={class:"flex items-center justify-between px-4 py-3.5"},Oa={class:"space-y-2"},Ba={class:"flex items-start justify-between px-4 py-3.5 gap-3"},Ha={class:"space-y-0.5 min-w-0"},Ta={key:0,class:"mt-1.5"},Ra={key:0,class:"text-xs text-green-400 flex items-center gap-1"},Fa={key:1,class:"space-y-0.5"},La={class:"flex items-center gap-2 shrink-0"},Na={key:0,class:"border-t border-slate-800 px-4 py-3 space-y-2"},Pa={key:0,class:"flex items-center gap-2 text-xs text-slate-500"},Wa={class:"flex items-center gap-2 mb-3"},Ja={class:"font-mono text-xs text-slate-200"},Ga=["onClick"],Qa={class:"text-xs font-mono text-slate-300"},Ka={key:0,class:"text-[10px] leading-relaxed font-mono text-slate-400 bg-slate-950 px-3 py-2 overflow-x-auto border-t border-slate-800"},Ya=["onClick"],Za={class:"min-w-0 text-left"},Xa={class:"text-xs font-mono text-slate-400"},el={class:"text-[10px] text-slate-600 ml-2"},tl={key:0,class:"text-[10px] leading-relaxed font-mono text-slate-400 bg-slate-950 px-3 py-2 overflow-x-auto border-t border-slate-800"},sl={class:"flex items-center gap-2 shrink-0"},al={key:0,class:"text-xs text-slate-500"},ll={key:0,class:"border-t border-slate-800 px-4 py-3"},nl={key:0,class:"flex items-center gap-2 text-xs text-slate-500"},il={key:1,class:"text-xs text-slate-500"},rl={key:2,class:"space-y-1.5"},ol={class:"text-[11px] font-mono text-slate-300 truncate"},dl={class:"text-[11px] font-mono text-slate-500 shrink-0"},cl={class:"flex items-center justify-between px-4 py-3.5"},ul={class:"flex items-center justify-between px-4 py-3.5"},pl={class:"p-5 space-y-4"},fl={class:"flex items-center justify-between"},vl={class:"flex items-center gap-2.5 cursor-pointer"},ml=["checked","indeterminate"],xl={class:"space-y-3"},bl={class:"text-xs font-semibold uppercase tracking-wider text-slate-500"},yl={class:"border border-slate-800 rounded-xl divide-y divide-slate-800 overflow-hidden"},gl=["onUpdate:modelValue"],hl={class:"text-sm text-slate-300"},kl={key:0,class:"space-y-1"},wl={class:"flex justify-end gap-2 pt-1"},_l={key:0,class:"p-5 space-y-4"},Sl={class:"flex items-start gap-3"},Cl={class:"w-10 h-10 rounded-full bg-red-500/10 flex items-center justify-center flex-shrink-0"},ql={class:"space-y-1"},Il={class:"text-sm text-slate-400"},Al={class:"flex justify-end"},zl={key:1,class:"p-5 space-y-4"},Vl={class:"flex items-start gap-3"},jl={class:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center flex-shrink-0"},$l={class:"flex justify-end"},Ul={key:2,class:"p-5 space-y-4"},El={class:"flex items-start gap-3"},Ml={class:"w-10 h-10 rounded-full bg-primary-500/10 flex items-center justify-center flex-shrink-0"},Dl={class:"border border-slate-800 rounded-xl p-3 space-y-1"},Ol={class:"text-xs text-slate-500 mb-2"},Bl={key:0,class:"flex items-center justify-between text-xs"},Hl={class:"text-slate-400"},Tl={class:"font-mono text-slate-300"},Rl={class:"flex justify-end gap-2 pt-1"},Fl={class:"p-5 space-y-4"},Ll={class:"flex items-start gap-3"},Nl={class:"w-10 h-10 rounded-full bg-red-500/10 flex items-center justify-center flex-shrink-0"},Pl={class:"space-y-1 border border-slate-800 rounded-xl divide-y divide-slate-800 overflow-hidden"},Wl=["onUpdate:modelValue"],Jl={class:"min-w-0"},Gl={class:"text-sm font-medium text-slate-200 leading-snug"},Ql={class:"text-xs text-slate-500 leading-snug"},Kl={class:"flex justify-end gap-2 pt-1"},Yl={key:0,class:"p-5 space-y-4"},Zl={class:"flex items-start gap-3"},Xl={class:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center flex-shrink-0"},en={key:1,class:"p-5 space-y-4"},tn={class:"flex items-start gap-3"},sn={class:"w-10 h-10 rounded-full bg-red-500/10 flex items-center justify-center flex-shrink-0"},an={class:"flex justify-end gap-2 pt-1"},ln={class:"p-5 space-y-5"},nn={class:"space-y-3"},rn={class:"flex items-center gap-3 cursor-pointer"},on={key:0,class:"ml-7"},dn={class:"space-y-3"},cn={class:"flex items-center gap-3 cursor-pointer"},un={key:0,class:"ml-7 space-y-2"},pn=["onClick"],fn={class:"flex justify-end gap-2 pt-1"},hn=Le({__name:"settings",setup(a){const s=cs(),l=ps(),{settings:i,set:r}=gs(),o=[{label:"Habits",items:[{key:"habits",label:"Habits"},{key:"completions",label:"Completions",parent:"habits"},{key:"habit_logs",label:"Habit logs",parent:"habits"},{key:"habit_schedules",label:"Habit schedules",parent:"habits"},{key:"reminders",label:"Habit reminders",parent:"habits"}]},{label:"Check-ins",items:[{key:"checkin_templates",label:"Templates"},{key:"checkin_questions",label:"Questions",parent:"checkin_templates"},{key:"checkin_responses",label:"Responses",parent:"checkin_questions"},{key:"checkin_reminders",label:"Reminders",parent:"checkin_templates"}]},{label:"Other",items:[{key:"scribbles",label:"Scribbles"},{key:"checkin_entries",label:"Journal entries"}]}];function c(){return{habits:!0,completions:!0,habit_logs:!0,habit_schedules:!0,reminders:!0,checkin_templates:!0,checkin_questions:!0,checkin_responses:!0,checkin_reminders:!0,scribbles:!0,checkin_entries:!0}}const b=V(!1),x=V(!1),g=lt(c()),u=V([]),v=Object.keys(c()),_=ue(()=>v.every(m=>g[m])),I=ue(()=>v.every(m=>!g[m]));function H(){const m=!_.value;for(const e of v)g[e]=m}function M(){Object.assign(g,c()),u.value=[],b.value=!0}function R(){return[["completions","habits","Completions","Habits"],["habit_logs","habits","Habit logs","Habits"],["habit_schedules","habits","Habit schedules","Habits"],["reminders","habits","Habit reminders","Habits"],["checkin_questions","checkin_templates","Questions","Check-in templates"],["checkin_responses","checkin_questions","Responses","Check-in questions"],["checkin_reminders","checkin_templates","Check-in reminders","Check-in templates"]].filter(([e,h])=>g[e]&&!g[h]).map(([,,e,h])=>`${e} require ${h}`)}async function T(){if(s.isAvailable&&(u.value=R(),!(u.value.length>0))){x.value=!0;try{const m=await s.exportJsonData({...g}),e=JSON.stringify(m,null,2),h=URL.createObjectURL(new Blob([e],{type:"application/json"})),j=document.createElement("a");j.href=h,j.download=`habitat-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(h),b.value=!1}finally{x.value=!1}}}const N=V(!1);async function P(){if(s.isAvailable){N.value=!0;try{const m=await s.exportDb(),e=URL.createObjectURL(new Blob([m],{type:"application/x-sqlite3"})),h=document.createElement("a");h.href=e,h.download=`habitat-${new Date().toISOString().slice(0,10)}.sqlite3`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(e)}finally{N.value=!1}}}const O=V(null),A=V(!1),K=V(!1),q=V(null),k=V(null),w=V(!1);function X(){q.value=null,k.value=null,w.value=!1,O.value?.click()}async function xe(m){const e=m.target.files?.[0];if(e){m.target.value="";try{const h=JSON.parse(await e.text());if(typeof h!="object"||h===null){k.value="Invalid file.",A.value=!0;return}const j=h.version;if(typeof j!="number"){k.value="Missing version field — not a Habitat export.",A.value=!0;return}if(j!==1){k.value=`Unsupported version ${j}. This app supports version 1.`,A.value=!0;return}q.value=h,A.value=!0}catch{k.value="Could not parse file as JSON.",A.value=!0}}}function ee(){window.location.reload()}async function be(){if(!(!q.value||!s.isAvailable)){K.value=!0;try{await s.importJson(q.value),w.value=!0,q.value=null}finally{K.value=!1}}}function le(){return new Promise((m,e)=>{const h=indexedDB.open("habitat",1);h.onupgradeneeded=()=>h.result.createObjectStore("voice_notes",{keyPath:"id"}),h.onsuccess=()=>m(h.result),h.onerror=()=>e(h.error)})}function ne(m){return new Promise((e,h)=>{const j=m.transaction("voice_notes","readonly").objectStore("voice_notes").getAll();j.onsuccess=()=>e(j.result),j.onerror=()=>h(j.error)})}const se=V(!1);async function F(){se.value=!0;try{const m=await le(),e=await ne(m);if(e.length===0)return;const h={};for(const ve of e){const _e=ve.mimeType.split("/")[1]?.split(";")[0]??"audio",Be=ve.created_at.slice(0,19).replace(/[:.]/g,"-");h[`${Be}.${_e}`]=new Uint8Array(await ve.blob.arrayBuffer())}const j=Gs(h),C=URL.createObjectURL(new Blob([j.buffer],{type:"application/zip"})),$=document.createElement("a");$.href=C,$.download=`habitat-voice-${new Date().toISOString().slice(0,10)}.zip`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(C)}finally{se.value=!1}}function ae(){return new Promise(m=>{const e=indexedDB.deleteDatabase("habitat");e.onsuccess=()=>m(),e.onerror=()=>m(),e.onblocked=()=>m()})}function ce(){for(const m of Object.keys(localStorage))m.startsWith("checkin-")&&localStorage.removeItem(m)}const qe=V(!1);async function re(m){localStorage.removeItem("habitat-has-data"),await s.nukeOpfs(),await ae(),ce(),m?window.location.reload():qe.value=!0}const oe=V(!1),pe=V(!1),z=lt({enableSteps:!0,stepGoal:1e4,enableMeals:!0,meals:[{name:"Breakfast",calories:600},{name:"Lunch",calories:600},{name:"Dinner",calories:600}]});function W(){z.meals.push({name:"",calories:600})}function ye(m){z.meals.splice(m,1)}async function Ne(m){r("enableHealth",m),m&&s.isAvailable&&((await s.getHabits()).some(h=>h.tags.includes("habitat-health"))||(oe.value=!0))}async function Ee(){if(s.isAvailable){pe.value=!0;try{const m={description:"",frequency:"daily",annotations:{},paused_until:null};if(z.enableSteps&&await s.createHabit({...m,name:"Steps",type:"NUMERIC",target_value:z.stepGoal,color:"#ef4444",icon:"i-heroicons-fire",tags:["habitat-health","habitat-steps"]}),z.enableMeals)for(const e of z.meals)e.name.trim()&&await s.createHabit({...m,name:e.name.trim(),type:"LIMIT",target_value:e.calories,color:"#f59e0b",icon:"i-heroicons-sparkles",tags:["habitat-health","habitat-meals"]});oe.value=!1}finally{pe.value=!1}}}const ge=V(!1),Ie=V(!1),L=lt({habits:!0,checkinEntries:!0,checkins:!0,scribbles:!0,voiceNotes:!0,appliedDefaults:!1}),Pe=[{key:"habits",label:"Habits & completions",description:"All habits, logs, and completion history"},{key:"checkinEntries",label:"Check-in entries",description:"Daily check-in answers stored in the DB"},{key:"checkins",label:"Check-in templates & responses",description:"All templates, questions, and recorded answers"},{key:"scribbles",label:"Scribbles",description:"All free-form notes"},{key:"voiceNotes",label:"Voice recordings",description:"IndexedDB audio data"},{key:"appliedDefaults",label:"Applied defaults",description:"Re-enables seeding of default check-in templates"}],Ae=ue(()=>!(L.habits||L.checkinEntries||L.checkins||L.scribbles||L.voiceNotes||L.appliedDefaults));async function Me(){if(!(!s.isAvailable||Ae.value)){Ie.value=!0;try{const m=[];L.habits&&m.push(s.deleteAllHabits()),L.checkinEntries&&m.push(s.deleteAllCheckinEntries()),L.checkins&&m.push(s.deleteAllCheckinData()),L.scribbles&&m.push(s.deleteAllScribbles()),L.appliedDefaults&&m.push(s.clearAppliedDefaults()),await Promise.all(m),L.checkinEntries&&ce(),L.voiceNotes&&await ae(),L.habits&&localStorage.removeItem("habitat-has-data"),ge.value=!1}finally{Ie.value=!1}}}const ze=V(!1),We=V(!1);async function ft(m){if(s.isAvailable){We.value=!0;try{await re(m)}catch{ze.value=!1}finally{We.value=!1}}}const we=V(null),et=V(!1);async function Dt(){if(s.isAvailable){et.value=!0,we.value=null;try{we.value=await s.integrityCheck()}finally{et.value=!1}}}const Ot=ue(()=>we.value!==null&&we.value.length===1&&we.value[0]==="ok"),De=V(!1),fe=V(null),tt=V(!1),he=V(null);async function Bt(){if(s.isAvailable){tt.value=!0;try{fe.value=await s.getDbInfo()}finally{tt.value=!1}}}function Ht(){De.value=!De.value,De.value&&!fe.value&&Bt()}const Oe=V(!1),Ve=V([]),st=V(!1);async function vt(m,e=""){const h=[];for await(const[j,C]of m.entries()){const $=e?`${e}/${j}`:j;if(C.kind==="directory")h.push(...await vt(C,$));else{const ve=await C.getFile();h.push({path:$,size:ve.size})}}return h}async function mt(){st.value=!0;try{const m=await navigator.storage.getDirectory();Ve.value=await vt(m)}finally{st.value=!1}}function Tt(){Oe.value=!Oe.value,Oe.value&&mt()}function Rt(m){return m<1024?`${m} B`:m<1024*1024?`${(m/1024).toFixed(1)} KB`:`${(m/(1024*1024)).toFixed(2)} MB`}const at=V(!1);async function Ft(){at.value=!0;try{if("serviceWorker"in navigator){const m=await navigator.serviceWorker.getRegistrations();await Promise.all(m.map(e=>e.unregister()))}if("caches"in window){const m=await caches.keys();await Promise.all(m.map(e=>caches.delete(e)))}window.location.reload()}catch{at.value=!1}}const{permission:Je,requestPermission:Lt}=fs();async function Nt(){await Lt()}return(m,e)=>{const h=js,j=xs,C=us,$=$e,ve=Us,_e=bs,Be=ys,Pt=ms;return p(),y("div",Qs,[e[107]||(e[107]=t("header",null,[t("p",{class:"text-sm text-slate-500"},"Preferences"),t("h2",{class:"text-2xl font-bold"},"Settings")],-1)),t("section",Ks,[e[46]||(e[46]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-slate-500 px-1"},"Display",-1)),f(j,{ui:{root:"rounded-2xl",body:"p-0 sm:p-0 divide-y divide-slate-800"}},{default:S(()=>[t("div",Ys,[e[33]||(e[33]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Enable Today"),t("p",{class:"text-xs text-slate-500"},"Show the Today tab in the navigation.")],-1)),f(h,{"model-value":n(i).enableToday,"onUpdate:modelValue":e[0]||(e[0]=d=>n(r)("enableToday",d))},null,8,["model-value"])]),t("div",Zs,[t("div",Xs,[e[34]||(e[34]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Enable Week"),t("p",{class:"text-xs text-slate-500"},"Quick-fill view for multiple days at once.")],-1)),f(h,{"model-value":n(i).enableWeek,"onUpdate:modelValue":e[1]||(e[1]=d=>n(r)("enableWeek",d))},null,8,["model-value"])]),n(i).enableWeek?(p(),y("div",ea,[e[35]||(e[35]=t("p",{class:"text-sm text-slate-400"},"Days to show",-1)),t("div",ta,[t("button",{class:"w-7 h-7 rounded-lg bg-slate-800 border border-slate-700 text-slate-300 flex items-center justify-center text-sm",onClick:e[2]||(e[2]=d=>n(r)("weekDays",Math.max(3,(n(i).weekDays||3)-1)))},"−"),t("span",sa,E(n(i).weekDays||3),1),t("button",{class:"w-7 h-7 rounded-lg bg-slate-800 border border-slate-700 text-slate-300 flex items-center justify-center text-sm",onClick:e[3]||(e[3]=d=>n(r)("weekDays",Math.min(7,(n(i).weekDays||3)+1)))},"+")])])):D("",!0)]),t("div",aa,[e[36]||(e[36]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Enable journalling"),t("p",{class:"text-xs text-slate-500"},"Show Check-in, Scribbles, and Voice in the navigation.")],-1)),f(h,{"model-value":n(i).enableJournalling,"onUpdate:modelValue":e[4]||(e[4]=d=>n(r)("enableJournalling",d))},null,8,["model-value"])]),e[43]||(e[43]=t("div",{class:"px-4 pt-3 pb-1"},[t("p",{class:"text-[10px] font-semibold uppercase tracking-wider text-slate-600"},"Habits page")],-1)),t("div",la,[e[37]||(e[37]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Show tags"),t("p",{class:"text-xs text-slate-500"},"Display habit tags in the habits list.")],-1)),f(h,{"model-value":n(i).showTagsOnHabits,"onUpdate:modelValue":e[5]||(e[5]=d=>n(r)("showTagsOnHabits",d))},null,8,["model-value"])]),t("div",na,[e[38]||(e[38]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Show annotations"),t("p",{class:"text-xs text-slate-500"},"Display key:value metadata in the habits list.")],-1)),f(h,{"model-value":n(i).showAnnotationsOnHabits,"onUpdate:modelValue":e[6]||(e[6]=d=>n(r)("showAnnotationsOnHabits",d))},null,8,["model-value"])]),e[44]||(e[44]=t("div",{class:"px-4 pt-3 pb-1"},[t("p",{class:"text-[10px] font-semibold uppercase tracking-wider text-slate-600"},"Today page")],-1)),t("div",ia,[e[39]||(e[39]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Show tags"),t("p",{class:"text-xs text-slate-500"},"Display habit tags in today's list.")],-1)),f(h,{"model-value":n(i).showTagsOnToday,"onUpdate:modelValue":e[7]||(e[7]=d=>n(r)("showTagsOnToday",d))},null,8,["model-value"])]),t("div",ra,[e[40]||(e[40]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Show annotations"),t("p",{class:"text-xs text-slate-500"},"Display key:value metadata in today's list.")],-1)),f(h,{"model-value":n(i).showAnnotationsOnToday,"onUpdate:modelValue":e[8]||(e[8]=d=>n(r)("showAnnotationsOnToday",d))},null,8,["model-value"])]),e[45]||(e[45]=t("div",{class:"px-4 pt-3 pb-1"},[t("p",{class:"text-[10px] font-semibold uppercase tracking-wider text-slate-600"},"Log entries")],-1)),t("div",oa,[e[41]||(e[41]=t("p",{class:"text-sm font-medium"},"Input mode",-1)),e[42]||(e[42]=t("p",{class:"text-xs text-slate-500 mb-2"},"How numeric values are applied when logging a habit.",-1)),t("div",da,[t("button",{class:te(["flex-1 py-2 px-3 rounded-xl text-xs font-medium border transition-colors",n(i).logInputMode==="increment"?"bg-primary-500/15 border-primary-500/40 text-primary-300":"bg-slate-800 border-slate-700 text-slate-400"]),onClick:e[9]||(e[9]=d=>n(r)("logInputMode","increment"))}," Add to total ",2),t("button",{class:te(["flex-1 py-2 px-3 rounded-xl text-xs font-medium border transition-colors",n(i).logInputMode==="absolute"?"bg-primary-500/15 border-primary-500/40 text-primary-300":"bg-slate-800 border-slate-700 text-slate-400"]),onClick:e[10]||(e[10]=d=>n(r)("logInputMode","absolute"))}," Set total ",2)])])]),_:1})]),t("section",ca,[e[49]||(e[49]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-slate-500 px-1"},"Navigation",-1)),f(j,{ui:{root:"rounded-2xl",body:"p-0 sm:p-0 divide-y divide-slate-800"}},{default:S(()=>[t("div",ua,[e[47]||(e[47]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Sticky bottom bar"),t("p",{class:"text-xs text-slate-500"},"Keep the nav bar fixed at the bottom when scrolling.")],-1)),f(h,{"model-value":n(i).stickyNav,"onUpdate:modelValue":e[11]||(e[11]=d=>n(r)("stickyNav",d))},null,8,["model-value"])]),t("div",pa,[e[48]||(e[48]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Extra bottom padding"),t("p",{class:"text-xs text-slate-500"},"Add space below the nav for Android gesture buttons.")],-1)),f(h,{"model-value":n(i).navExtraPadding,"onUpdate:modelValue":e[12]||(e[12]=d=>n(r)("navExtraPadding",d))},null,8,["model-value"])])]),_:1})]),t("section",fa,[e[51]||(e[51]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-slate-500 px-1"},"Health",-1)),f(j,{ui:{root:"rounded-2xl",body:"p-0 sm:p-0 divide-y divide-slate-800"}},{default:S(()=>[t("div",va,[e[50]||(e[50]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Enable Health"),t("p",{class:"text-xs text-slate-500"},"Track daily steps and meal calories.")],-1)),f(h,{"model-value":n(i).enableHealth,"onUpdate:modelValue":Ne},null,8,["model-value"])])]),_:1})]),t("section",ma,[e[57]||(e[57]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-slate-500 px-1"},"Data",-1)),f(j,{ui:{root:"rounded-2xl",body:"p-0 sm:p-0 divide-y divide-slate-800"}},{default:S(()=>[t("div",xa,[e[52]||(e[52]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Export data"),t("p",{class:"text-xs text-slate-500"},"Download selected data as a versioned JSON file.")],-1)),f(C,{icon:"i-heroicons-arrow-down-tray",variant:"ghost",color:"neutral",size:"sm",disabled:!n(s).isAvailable,onClick:M},null,8,["disabled"])]),t("div",ba,[e[53]||(e[53]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Import data"),t("p",{class:"text-xs text-slate-500"},"Merge from a Habitat JSON export. Existing records are kept.")],-1)),t("input",{ref_key:"importInput",ref:O,type:"file",accept:".json",class:"hidden",onChange:xe},null,544),f(C,{icon:"i-heroicons-arrow-up-tray",variant:"ghost",color:"neutral",size:"sm",disabled:!n(s).isAvailable,onClick:X},null,8,["disabled"])]),t("div",ya,[e[54]||(e[54]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Export SQLite"),t("p",{class:"text-xs text-slate-500"},[U("Download the raw "),t("span",{class:"font-mono"},".sqlite3"),U(" database file.")])],-1)),f(C,{icon:"i-heroicons-circle-stack",variant:"ghost",color:"neutral",size:"sm",loading:n(N),disabled:!n(s).isAvailable,onClick:P},null,8,["loading","disabled"])]),t("div",ga,[e[55]||(e[55]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Export voice notes"),t("p",{class:"text-xs text-slate-500"},[U("Download all voice recordings as a "),t("span",{class:"font-mono"},".zip"),U(" archive.")])],-1)),f(C,{icon:"i-heroicons-musical-note",variant:"ghost",color:"neutral",size:"sm",loading:n(se),onClick:F},null,8,["loading"])]),t("div",ha,[e[56]||(e[56]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium text-red-400"},"Clear app data"),t("p",{class:"text-xs text-slate-500"},"Delete all data and wipe on-device storage.")],-1)),f(C,{icon:"i-heroicons-trash",variant:"ghost",color:"error",size:"sm",disabled:!n(s).isAvailable,onClick:e[13]||(e[13]=d=>ge.value=!0)},null,8,["disabled"])])]),_:1})]),t("section",ka,[e[60]||(e[60]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-slate-500 px-1"},"Notifications",-1)),f(j,{ui:{root:"rounded-2xl",body:"p-0 sm:p-0 divide-y divide-slate-800"}},{default:S(()=>[t("div",wa,[t("div",_a,[e[58]||(e[58]=t("p",{class:"text-sm font-medium"},"Habit reminders",-1)),t("p",Sa,[n(Je)==="granted"?(p(),y("span",Ca,"Enabled — add reminders on individual habit pages")):n(Je)==="denied"?(p(),y("span",qa,"Blocked — allow in browser/OS settings to enable")):(p(),y("span",Ia,"Not enabled — grant permission to receive reminders"))])]),t("div",Aa,[n(Je)==="default"?(p(),Q(C,{key:0,size:"sm",variant:"soft",color:"neutral",icon:"i-heroicons-bell",onClick:Nt},{default:S(()=>[...e[59]||(e[59]=[U(" Enable ",-1)])]),_:1})):n(Je)==="granted"?(p(),y("div",za)):(p(),Q($,{key:2,name:"i-heroicons-bell-slash",class:"w-5 h-5 text-red-400 mx-1"}))])])]),_:1})]),t("section",Va,[e[67]||(e[67]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-slate-500 px-1"},"About",-1)),f(j,{ui:{root:"rounded-2xl",body:"p-0 sm:p-0 divide-y divide-slate-800"}},{default:S(()=>[e[65]||(e[65]=t("div",{class:"flex items-center justify-between px-4 py-3.5"},[t("p",{class:"text-sm text-slate-400"},"App"),t("p",{class:"text-sm font-medium"},"Habitat")],-1)),t("div",ja,[e[61]||(e[61]=t("p",{class:"text-sm text-slate-400"},"Version",-1)),t("p",$a,E(n(l).public.appVersion||"—"),1)]),t("div",Ua,[e[62]||(e[62]=t("p",{class:"text-sm text-slate-400"},"Commit",-1)),t("p",Ea,E(n(l).public.commitSha||"—"),1)]),n(l).public.gitTag.length>0?(p(),y("div",Ma,[e[63]||(e[63]=t("p",{class:"text-sm text-slate-400"},"Tag",-1)),f(ve,{label:n(l).public.gitTag,variant:"subtle",color:"primary",size:"sm",class:"rounded-full font-mono"},null,8,["label"])])):D("",!0),t("div",Da,[e[64]||(e[64]=t("p",{class:"text-sm text-slate-400"},"Build",-1)),f(ve,{label:n(l).public.buildTarget,variant:"subtle",color:"neutral",size:"sm",class:"rounded-full font-mono"},null,8,["label"])]),e[66]||(e[66]=t("div",{class:"flex items-center justify-between px-4 py-3.5"},[t("p",{class:"text-sm text-slate-400"},"Storage"),t("p",{class:"text-sm font-medium"},"On-device (OPFS)")],-1))]),_:1})]),t("section",Oa,[e[80]||(e[80]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-slate-500 px-1"},"Advanced",-1)),f(j,{ui:{root:"rounded-2xl",body:"p-0 sm:p-0 divide-y divide-slate-800"}},{default:S(()=>[t("div",Ba,[t("div",Ha,[e[69]||(e[69]=t("p",{class:"text-sm font-medium"},"Integrity check",-1)),e[70]||(e[70]=t("p",{class:"text-xs text-slate-500"},[U("Runs SQLite "),t("span",{class:"font-mono"},"PRAGMA integrity_check")],-1)),n(we)!==null?(p(),y("div",Ta,[n(Ot)?(p(),y("p",Ra,[f($,{name:"i-heroicons-check-circle",class:"w-3.5 h-3.5 shrink-0"}),e[68]||(e[68]=U(" ok ",-1))])):(p(),y("ul",Fa,[(p(!0),y(G,null,de(n(we),(d,J)=>(p(),y("li",{key:J,class:"text-xs text-red-400 font-mono break-all"},E(d),1))),128))]))])):D("",!0)]),f(C,{size:"sm",variant:"ghost",color:"neutral",loading:n(et),disabled:!n(s).isAvailable,icon:"i-heroicons-shield-check",class:"shrink-0",onClick:Dt},null,8,["loading","disabled"])]),t("div",null,[t("button",{class:"w-full flex items-center justify-between px-4 py-3.5 text-left",onClick:Ht},[e[71]||(e[71]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Database schema"),t("p",{class:"text-xs text-slate-500"},"SQLite user_version and table definitions")],-1)),t("div",La,[n(fe)?(p(),Q(ve,{key:0,label:`v${n(fe).userVersion}`,variant:"subtle",color:"neutral",size:"sm",class:"font-mono rounded-full"},null,8,["label"])):D("",!0),f($,{name:n(De)?"i-heroicons-chevron-down":"i-heroicons-chevron-right",class:"w-4 h-4 text-slate-500"},null,8,["name"])])]),n(De)?(p(),y("div",Na,[n(tt)?(p(),y("div",Pa,[f($,{name:"i-heroicons-arrow-path",class:"w-3.5 h-3.5 animate-spin"}),e[72]||(e[72]=U(" Loading… ",-1))])):n(fe)?(p(),y(G,{key:1},[t("div",Wa,[e[73]||(e[73]=t("span",{class:"text-xs text-slate-500"},"Schema version:",-1)),t("span",Ja,E(n(fe).userVersion),1)]),(p(!0),y(G,null,de(n(fe).tables,d=>(p(),y("div",{key:d.name,class:"rounded-lg border border-slate-800 overflow-hidden"},[t("button",{class:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-slate-800/40 transition-colors",onClick:J=>he.value=n(he)===d.name?null:d.name},[t("span",Qa,E(d.name),1),f($,{name:n(he)===d.name?"i-heroicons-chevron-down":"i-heroicons-chevron-right",class:"w-3.5 h-3.5 text-slate-600"},null,8,["name"])],8,Ga),n(he)===d.name?(p(),y("pre",Ka,E(d.sql),1)):D("",!0)]))),128)),n(fe).indices.length>0?(p(),y(G,{key:0},[e[74]||(e[74]=t("p",{class:"text-[10px] font-semibold uppercase tracking-wider text-slate-600 pt-1"},"Indices",-1)),(p(!0),y(G,null,de(n(fe).indices,d=>(p(),y("div",{key:d.name,class:"rounded-lg border border-slate-800 overflow-hidden"},[t("button",{class:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-slate-800/40 transition-colors",onClick:J=>he.value=n(he)===d.name?null:d.name},[t("div",Za,[t("span",Xa,E(d.name),1),t("span",el,"on "+E(d.tbl_name),1)]),f($,{name:n(he)===d.name?"i-heroicons-chevron-down":"i-heroicons-chevron-right",class:"w-3.5 h-3.5 text-slate-600 shrink-0"},null,8,["name"])],8,Ya),n(he)===d.name?(p(),y("pre",tl,E(d.sql),1)):D("",!0)]))),128))],64)):D("",!0)],64)):D("",!0)])):D("",!0)]),t("div",null,[t("button",{class:"w-full flex items-center justify-between px-4 py-3.5 text-left",onClick:Tt},[e[75]||(e[75]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"OPFS files"),t("p",{class:"text-xs text-slate-500"},"All files in the origin private file system")],-1)),t("div",sl,[n(Ve).length>0?(p(),y("span",al,E(n(Ve).length)+" file"+E(n(Ve).length!==1?"s":""),1)):D("",!0),f($,{name:n(Oe)?"i-heroicons-chevron-down":"i-heroicons-chevron-right",class:"w-4 h-4 text-slate-500"},null,8,["name"])])]),n(Oe)?(p(),y("div",ll,[n(st)?(p(),y("div",nl,[f($,{name:"i-heroicons-arrow-path",class:"w-3.5 h-3.5 animate-spin"}),e[76]||(e[76]=U(" Scanning… ",-1))])):n(Ve).length===0?(p(),y("div",il,"No files found.")):(p(),y("ul",rl,[(p(!0),y(G,null,de(n(Ve),d=>(p(),y("li",{key:d.path,class:"flex items-center justify-between gap-4"},[t("span",ol,E(d.path),1),t("span",dl,E(Rt(d.size)),1)]))),128))])),t("button",{class:"mt-3 text-xs text-slate-600 hover:text-slate-400 flex items-center gap-1 transition-colors",onClick:mt},[f($,{name:"i-heroicons-arrow-path",class:"w-3 h-3"}),e[77]||(e[77]=U(" Refresh ",-1))])])):D("",!0)]),t("div",cl,[e[78]||(e[78]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium text-red-400"},"Clear OPFS storage"),t("p",{class:"text-xs text-slate-500"},"Wipe all on-device file system storage including the database.")],-1)),f(C,{icon:"i-heroicons-fire",variant:"ghost",color:"error",size:"sm",disabled:!n(s).isAvailable,onClick:e[14]||(e[14]=d=>ze.value=!0)},null,8,["disabled"])]),t("div",ul,[e[79]||(e[79]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Force reload"),t("p",{class:"text-xs text-slate-500"},"Unregister service worker, clear JS/CSS caches, and reload. OPFS data is preserved.")],-1)),f(C,{size:"sm",variant:"ghost",color:"neutral",icon:"i-heroicons-arrow-path",loading:n(at),class:"shrink-0",onClick:Ft},null,8,["loading"])])]),_:1})]),f(_e,{open:n(b),"onUpdate:open":e[17]||(e[17]=d=>He(b)?b.value=d:null)},{content:S(()=>[t("div",pl,[t("div",fl,[e[81]||(e[81]=t("h3",{class:"font-semibold text-slate-100"},"Export data",-1)),f(C,{icon:"i-heroicons-x-mark",variant:"ghost",color:"neutral",size:"xs",onClick:e[15]||(e[15]=d=>b.value=!1)})]),t("label",vl,[t("input",{type:"checkbox",class:"accent-primary-500",checked:n(_),indeterminate:!n(_)&&!n(I),onChange:H},null,40,ml),e[82]||(e[82]=t("span",{class:"text-sm text-slate-300 font-medium"},"Select all",-1))]),t("div",xl,[(p(),y(G,null,de(o,d=>t("div",{key:d.label,class:"space-y-1.5"},[t("p",bl,E(d.label),1),t("div",yl,[(p(!0),y(G,null,de(d.items,J=>(p(),y("label",{key:J.key,class:"flex items-center gap-3 px-3.5 py-2.5 cursor-pointer hover:bg-slate-800/40 transition-colors"},[Ge(t("input",{"onUpdate:modelValue":je=>n(g)[J.key]=je,type:"checkbox",class:"accent-primary-500 shrink-0"},null,8,gl),[[Qe,n(g)[J.key]]]),t("span",hl,E(J.label),1)]))),128))])])),64))]),n(u).length>0?(p(),y("ul",kl,[(p(!0),y(G,null,de(n(u),d=>(p(),y("li",{key:d,class:"text-xs text-red-400 flex items-center gap-1.5"},[f($,{name:"i-heroicons-exclamation-circle",class:"w-3.5 h-3.5 shrink-0"}),U(" "+E(d),1)]))),128))])):D("",!0),t("div",wl,[f(C,{variant:"ghost",color:"neutral",size:"sm",onClick:e[16]||(e[16]=d=>b.value=!1)},{default:S(()=>[...e[83]||(e[83]=[U("Cancel",-1)])]),_:1}),f(C,{size:"sm",icon:"i-heroicons-arrow-down-tray",loading:n(x),disabled:n(I),onClick:T},{default:S(()=>[...e[84]||(e[84]=[U(" Download ",-1)])]),_:1},8,["loading","disabled"])])])]),_:1},8,["open"]),f(_e,{open:n(A),"onUpdate:open":e[21]||(e[21]=d=>He(A)?A.value=d:null)},{content:S(()=>[n(k)?(p(),y("div",_l,[t("div",Sl,[t("div",Cl,[f($,{name:"i-heroicons-exclamation-circle",class:"w-5 h-5 text-red-400"})]),t("div",ql,[e[85]||(e[85]=t("p",{class:"font-semibold"},"Cannot import",-1)),t("p",Il,E(n(k)),1)])]),t("div",Al,[f(C,{variant:"ghost",color:"neutral",onClick:e[18]||(e[18]=d=>A.value=!1)},{default:S(()=>[...e[86]||(e[86]=[U("Close",-1)])]),_:1})])])):n(w)?(p(),y("div",zl,[t("div",Vl,[t("div",jl,[f($,{name:"i-heroicons-check-circle",class:"w-5 h-5 text-green-400"})]),e[87]||(e[87]=t("div",{class:"space-y-1"},[t("p",{class:"font-semibold"},"Import complete"),t("p",{class:"text-sm text-slate-400"},"Records merged. Reload to see all updates.")],-1))]),t("div",$l,[f(C,{onClick:e[19]||(e[19]=()=>{A.value=!1,ee()})},{default:S(()=>[...e[88]||(e[88]=[U("Reload",-1)])]),_:1})])])):n(q)?(p(),y("div",Ul,[t("div",El,[t("div",Ml,[f($,{name:"i-heroicons-arrow-up-tray",class:"w-5 h-5 text-primary-400"})]),e[89]||(e[89]=t("div",{class:"space-y-1"},[t("p",{class:"font-semibold"},"Import data?"),t("p",{class:"text-sm text-slate-400"},"New records will be added; existing IDs are skipped.")],-1))]),t("div",Dl,[t("p",Ol," Version "+E(n(q).version)+" export from "+E(new Date(n(q).exported_at).toLocaleDateString()),1),(p(),y(G,null,de(o,d=>(p(),y(G,{key:d.label},[(p(!0),y(G,null,de(d.items,J=>(p(),y(G,{key:J.key},[(n(q)[J.key]??[]).length>0?(p(),y("div",Bl,[t("span",Hl,E(J.label),1),t("span",Tl,E((n(q)[J.key]??[]).length),1)])):D("",!0)],64))),128))],64))),64))]),t("div",Rl,[f(C,{variant:"ghost",color:"neutral",onClick:e[20]||(e[20]=d=>A.value=!1)},{default:S(()=>[...e[90]||(e[90]=[U("Cancel",-1)])]),_:1}),f(C,{loading:n(K),onClick:be},{default:S(()=>[...e[91]||(e[91]=[U("Import",-1)])]),_:1},8,["loading"])])])):D("",!0)]),_:1},8,["open"]),f(_e,{open:n(ge),"onUpdate:open":e[23]||(e[23]=d=>He(ge)?ge.value=d:null)},{content:S(()=>[t("div",Fl,[t("div",Ll,[t("div",Nl,[f($,{name:"i-heroicons-exclamation-triangle",class:"w-5 h-5 text-red-400"})]),e[92]||(e[92]=t("div",{class:"space-y-1"},[t("p",{class:"font-semibold"},"Clear app data?"),t("p",{class:"text-sm text-slate-400"},"Select what to delete. This cannot be undone.")],-1))]),t("div",Pl,[(p(),y(G,null,de(Pe,d=>t("label",{key:d.key,class:"flex items-start gap-3 px-3.5 py-3 cursor-pointer hover:bg-slate-800/40 transition-colors"},[Ge(t("input",{"onUpdate:modelValue":J=>n(L)[d.key]=J,type:"checkbox",class:"mt-0.5 accent-red-500 shrink-0"},null,8,Wl),[[Qe,n(L)[d.key]]]),t("div",Jl,[t("p",Gl,E(d.label),1),t("p",Ql,E(d.description),1)])])),64))]),t("div",Kl,[f(C,{variant:"ghost",color:"neutral",onClick:e[22]||(e[22]=d=>ge.value=!1)},{default:S(()=>[...e[93]||(e[93]=[U("Cancel",-1)])]),_:1}),f(C,{color:"error",loading:n(Ie),disabled:n(Ae),onClick:Me},{default:S(()=>[...e[94]||(e[94]=[U(" Delete selected ",-1)])]),_:1},8,["loading","disabled"])])])]),_:1},8,["open"]),f(_e,{open:n(ze),"onUpdate:open":e[27]||(e[27]=d=>He(ze)?ze.value=d:null)},{content:S(()=>[n(qe)?(p(),y("div",Yl,[t("div",Zl,[t("div",Xl,[f($,{name:"i-heroicons-check-circle",class:"w-5 h-5 text-green-400"})]),e[95]||(e[95]=t("div",{class:"space-y-1"},[t("p",{class:"font-semibold"},"All data wiped"),t("p",{class:"text-sm text-slate-400"},"Storage has been cleared. You can safely close this tab.")],-1))])])):(p(),y("div",en,[t("div",tn,[t("div",sn,[f($,{name:"i-heroicons-fire",class:"w-5 h-5 text-red-400"})]),e[96]||(e[96]=t("div",{class:"space-y-1"},[t("p",{class:"font-semibold"},"Wipe OPFS storage?"),t("p",{class:"text-sm text-slate-400"}," Removes every file in the browser's origin private file system — including the SQLite database. Voice recordings and check-in entries will also be cleared. ")],-1))]),t("div",an,[f(C,{variant:"ghost",color:"neutral",onClick:e[24]||(e[24]=d=>ze.value=!1)},{default:S(()=>[...e[97]||(e[97]=[U("Cancel",-1)])]),_:1}),f(C,{color:"error",variant:"ghost",loading:n(We),onClick:e[25]||(e[25]=d=>ft(!1))},{default:S(()=>[...e[98]||(e[98]=[U("Wipe only",-1)])]),_:1},8,["loading"]),f(C,{color:"error",loading:n(We),onClick:e[26]||(e[26]=d=>ft(!0))},{default:S(()=>[...e[99]||(e[99]=[U("Wipe & reload",-1)])]),_:1},8,["loading"])])]))]),_:1},8,["open"]),f(_e,{open:n(oe),"onUpdate:open":e[32]||(e[32]=d=>He(oe)?oe.value=d:null)},{content:S(()=>[t("div",ln,[e[106]||(e[106]=t("div",null,[t("h3",{class:"text-lg font-semibold"},"Set up Health Tracking"),t("p",{class:"text-sm text-slate-400 mt-0.5"},"Choose what you'd like to track. Habits are created in your habit list.")],-1)),t("div",nn,[t("label",rn,[Ge(t("input",{"onUpdate:modelValue":e[28]||(e[28]=d=>n(z).enableSteps=d),type:"checkbox",class:"rounded"},null,512),[[Qe,n(z).enableSteps]]),e[100]||(e[100]=t("div",null,[t("p",{class:"text-sm font-medium"},"Track Steps"),t("p",{class:"text-xs text-slate-500"},"Creates a daily NUMERIC habit with your step goal.")],-1))]),n(z).enableSteps?(p(),y("div",on,[f(Pt,{label:"Daily step goal"},{default:S(()=>[f(Be,{modelValue:n(z).stepGoal,"onUpdate:modelValue":e[29]||(e[29]=d=>n(z).stepGoal=d),modelModifiers:{number:!0},type:"number",min:"1000",step:"500",class:"w-40"},null,8,["modelValue"])]),_:1})])):D("",!0)]),t("div",dn,[t("label",cn,[Ge(t("input",{"onUpdate:modelValue":e[30]||(e[30]=d=>n(z).enableMeals=d),type:"checkbox",class:"rounded"},null,512),[[Qe,n(z).enableMeals]]),e[101]||(e[101]=t("div",null,[t("p",{class:"text-sm font-medium"},"Track Meals"),t("p",{class:"text-xs text-slate-500"},"Creates LIMIT habits for calorie tracking per meal.")],-1))]),n(z).enableMeals?(p(),y("div",un,[(p(!0),y(G,null,de(n(z).meals,(d,J)=>(p(),y("div",{key:J,class:"flex items-center gap-2"},[f(Be,{modelValue:d.name,"onUpdate:modelValue":je=>d.name=je,placeholder:"Meal name",class:"flex-1"},null,8,["modelValue","onUpdate:modelValue"]),f(Be,{modelValue:d.calories,"onUpdate:modelValue":je=>d.calories=je,modelModifiers:{number:!0},type:"number",min:"0",step:"50",class:"w-24"},null,8,["modelValue","onUpdate:modelValue"]),e[102]||(e[102]=t("span",{class:"text-xs text-slate-500 shrink-0"},"kcal",-1)),t("button",{class:"text-slate-700 hover:text-red-400 transition-colors shrink-0",onClick:je=>ye(J)},[f($,{name:"i-heroicons-x-mark",class:"w-4 h-4"})],8,pn)]))),128)),t("button",{class:"text-xs text-slate-500 hover:text-slate-400 flex items-center gap-1 mt-1",onClick:W},[f($,{name:"i-heroicons-plus",class:"w-3 h-3"}),e[103]||(e[103]=U(" Add meal ",-1))])])):D("",!0)]),t("div",fn,[f(C,{variant:"ghost",color:"neutral",onClick:e[31]||(e[31]=d=>oe.value=!1)},{default:S(()=>[...e[104]||(e[104]=[U("Skip",-1)])]),_:1}),f(C,{color:"primary",disabled:!n(z).enableSteps&&!n(z).enableMeals,loading:n(pe),onClick:Ee},{default:S(()=>[...e[105]||(e[105]=[U(" Create Habits ",-1)])]),_:1},8,["disabled","loading"])])])]),_:1},8,["open"])])}}});export{hn as default};
