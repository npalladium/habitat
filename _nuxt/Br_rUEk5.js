import{_ as rs}from"./N7pPXhgQ.js";import{_ as ds}from"./CM7eGxVx.js";import{P as cs,Q as us,R as ps,S as fs,o as u,m as re,w as j,U as ct,i as a,l as ft,n as _e,V as vs,W as ms,p as O,c as f,t as A,X as xs,x as ue,Y as St,Z as gs,y as k,M as Mt,e as ys,$ as bs,f as hs,a as t,b as c,d as h,F as N,j as ws,r as ie,k as ks,I as Se,q as Ke,J as Ze,A as _s,a0 as It,z as ut}from"./D__IzthQ.js";import{_ as Cs}from"./dnWwwkjV.js";import{_ as Ss}from"./Do0eRNzt.js";import{_ as Is}from"./C28jTKjj.js";import{u as As}from"./C6o8pL8k.js";const js={slots:{base:"font-medium inline-flex items-center",label:"truncate",leadingIcon:"shrink-0",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailingIcon:"shrink-0"},variants:{fieldGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none focus-visible:z-[1]",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none focus-visible:z-[1]"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{solid:"",outline:"",soft:"",subtle:""},size:{xs:{base:"text-[8px]/3 px-1 py-0.5 gap-1 rounded-sm",leadingIcon:"size-3",leadingAvatarSize:"3xs",trailingIcon:"size-3"},sm:{base:"text-[10px]/3 px-1.5 py-1 gap-1 rounded-sm",leadingIcon:"size-3",leadingAvatarSize:"3xs",trailingIcon:"size-3"},md:{base:"text-xs px-2 py-1 gap-1 rounded-md",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},lg:{base:"text-sm px-2 py-1 gap-1.5 rounded-md",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"text-base px-2.5 py-1 gap-1.5 rounded-md",leadingIcon:"size-6",leadingAvatarSize:"2xs",trailingIcon:"size-6"}},square:{true:""}},compoundVariants:[{color:"primary",variant:"solid",class:"bg-primary text-inverted"},{color:"secondary",variant:"solid",class:"bg-secondary text-inverted"},{color:"success",variant:"solid",class:"bg-success text-inverted"},{color:"info",variant:"solid",class:"bg-info text-inverted"},{color:"warning",variant:"solid",class:"bg-warning text-inverted"},{color:"error",variant:"solid",class:"bg-error text-inverted"},{color:"primary",variant:"outline",class:"text-primary ring ring-inset ring-primary/50"},{color:"secondary",variant:"outline",class:"text-secondary ring ring-inset ring-secondary/50"},{color:"success",variant:"outline",class:"text-success ring ring-inset ring-success/50"},{color:"info",variant:"outline",class:"text-info ring ring-inset ring-info/50"},{color:"warning",variant:"outline",class:"text-warning ring ring-inset ring-warning/50"},{color:"error",variant:"outline",class:"text-error ring ring-inset ring-error/50"},{color:"primary",variant:"soft",class:"bg-primary/10 text-primary"},{color:"secondary",variant:"soft",class:"bg-secondary/10 text-secondary"},{color:"success",variant:"soft",class:"bg-success/10 text-success"},{color:"info",variant:"soft",class:"bg-info/10 text-info"},{color:"warning",variant:"soft",class:"bg-warning/10 text-warning"},{color:"error",variant:"soft",class:"bg-error/10 text-error"},{color:"primary",variant:"subtle",class:"bg-primary/10 text-primary ring ring-inset ring-primary/25"},{color:"secondary",variant:"subtle",class:"bg-secondary/10 text-secondary ring ring-inset ring-secondary/25"},{color:"success",variant:"subtle",class:"bg-success/10 text-success ring ring-inset ring-success/25"},{color:"info",variant:"subtle",class:"bg-info/10 text-info ring ring-inset ring-info/25"},{color:"warning",variant:"subtle",class:"bg-warning/10 text-warning ring ring-inset ring-warning/25"},{color:"error",variant:"subtle",class:"bg-error/10 text-error ring ring-inset ring-error/25"},{color:"neutral",variant:"solid",class:"text-inverted bg-inverted"},{color:"neutral",variant:"outline",class:"ring ring-inset ring-accented text-default bg-default"},{color:"neutral",variant:"soft",class:"text-default bg-elevated"},{color:"neutral",variant:"subtle",class:"ring ring-inset ring-accented text-default bg-elevated"},{size:"xs",square:!0,class:"p-0.5"},{size:"sm",square:!0,class:"p-1"},{size:"md",square:!0,class:"p-1"},{size:"lg",square:!0,class:"p-1"},{size:"xl",square:!0,class:"p-1"}],defaultVariants:{color:"primary",variant:"solid",size:"md"}},zs={__name:"UBadge",props:{as:{type:null,required:!1,default:"span"},label:{type:[String,Number],required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},square:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1}},setup(n){const s=n,o=cs(),l=us(),{orientation:r,size:d}=ps(s),{isLeading:m,isTrailing:y,leadingIconName:x,trailingIconName:w}=fs(s),p=ue(()=>St({extend:St(js),...l.ui?.badge||{}})({color:s.color,variant:s.variant,size:d.value||s.size,square:s.square||!o.default&&!s.label,fieldGroup:r.value}));return(b,z)=>(u(),re(a(xs),{as:n.as,"data-slot":"base",class:_e(p.value.base({class:[s.ui?.base,s.class]}))},{default:j(()=>[ct(b.$slots,"leading",{ui:p.value},()=>[a(m)&&a(x)?(u(),re(ft,{key:0,name:a(x),"data-slot":"leadingIcon",class:_e(p.value.leadingIcon({class:s.ui?.leadingIcon}))},null,8,["name","class"])):n.avatar?(u(),re(vs,ms({key:1,size:s.ui?.leadingAvatarSize||p.value.leadingAvatarSize()},n.avatar,{"data-slot":"leadingAvatar",class:p.value.leadingAvatar({class:s.ui?.leadingAvatar})}),null,16,["size","class"])):O("",!0)]),ct(b.$slots,"default",{ui:p.value},()=>[n.label!==void 0&&n.label!==null?(u(),f("span",{key:0,"data-slot":"label",class:_e(p.value.label({class:s.ui?.label}))},A(n.label),3)):O("",!0)]),ct(b.$slots,"trailing",{ui:p.value},()=>[a(y)&&a(w)?(u(),re(ft,{key:0,name:a(w),"data-slot":"trailingIcon",class:_e(p.value.trailingIcon({class:s.ui?.trailingIcon}))},null,8,["name","class"])):O("",!0)])]),_:3},8,["as","class"]))}};var Q=Uint8Array,se=Uint16Array,yt=Int32Array,bt=new Q([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ht=new Q([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),At=new Q([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$t=function(n,s){for(var o=new se(31),l=0;l<31;++l)o[l]=s+=1<<n[l-1];for(var r=new yt(o[30]),l=1;l<30;++l)for(var d=o[l];d<o[l+1];++d)r[d]=d-o[l]<<5|l;return{b:o,r}},qt=$t(bt,2),Us=qt.b,vt=qt.r;Us[28]=258,vt[258]=28;var Ds=$t(ht,0),jt=Ds.r,mt=new se(32768);for(var q=0;q<32768;++q){var ke=(q&43690)>>1|(q&21845)<<1;ke=(ke&52428)>>2|(ke&13107)<<2,ke=(ke&61680)>>4|(ke&3855)<<4,mt[q]=((ke&65280)>>8|(ke&255)<<8)>>1}var Fe=(function(n,s,o){for(var l=n.length,r=0,d=new se(s);r<l;++r)n[r]&&++d[n[r]-1];var m=new se(s);for(r=1;r<s;++r)m[r]=m[r-1]+d[r-1]<<1;var y;if(o){y=new se(1<<s);var x=15-s;for(r=0;r<l;++r)if(n[r])for(var w=r<<4|n[r],p=s-n[r],b=m[n[r]-1]++<<p,z=b|(1<<p)-1;b<=z;++b)y[mt[b]>>x]=w}else for(y=new se(l),r=0;r<l;++r)n[r]&&(y[r]=mt[m[n[r]-1]++]>>15-n[r]);return y}),Ie=new Q(288);for(var q=0;q<144;++q)Ie[q]=8;for(var q=144;q<256;++q)Ie[q]=9;for(var q=256;q<280;++q)Ie[q]=7;for(var q=280;q<288;++q)Ie[q]=8;var Xe=new Q(32);for(var q=0;q<32;++q)Xe[q]=5;var Os=Fe(Ie,9,0),Ts=Fe(Xe,5,0),Vt=function(n){return(n+7)/8|0},Ht=function(n,s,o){return(o==null||o>n.length)&&(o=n.length),new Q(n.subarray(s,o))},Ms=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],et=function(n,s,o){var l=new Error(s||Ms[n]);if(l.code=n,Error.captureStackTrace&&Error.captureStackTrace(l,et),!o)throw l;return l},ve=function(n,s,o){o<<=s&7;var l=s/8|0;n[l]|=o,n[l+1]|=o>>8},Re=function(n,s,o){o<<=s&7;var l=s/8|0;n[l]|=o,n[l+1]|=o>>8,n[l+2]|=o>>16},pt=function(n,s){for(var o=[],l=0;l<n.length;++l)n[l]&&o.push({s:l,f:n[l]});var r=o.length,d=o.slice();if(!r)return{t:Bt,l:0};if(r==1){var m=new Q(o[0].s+1);return m[o[0].s]=1,{t:m,l:1}}o.sort(function(M,L){return M.f-L.f}),o.push({s:-1,f:25001});var y=o[0],x=o[1],w=0,p=1,b=2;for(o[0]={s:-1,f:y.f+x.f,l:y,r:x};p!=r-1;)y=o[o[w].f<o[b].f?w++:b++],x=o[w!=p&&o[w].f<o[b].f?w++:b++],o[p++]={s:-1,f:y.f+x.f,l:y,r:x};for(var z=d[0].s,l=1;l<r;++l)d[l].s>z&&(z=d[l].s);var T=new se(z+1),E=xt(o[p-1],T,0);if(E>s){var l=0,V=0,W=E-s,ae=1<<W;for(d.sort(function(L,U){return T[U.s]-T[L.s]||L.f-U.f});l<r;++l){var G=d[l].s;if(T[G]>s)V+=ae-(1<<E-T[G]),T[G]=s;else break}for(V>>=W;V>0;){var ne=d[l].s;T[ne]<s?V-=1<<s-T[ne]++-1:++l}for(;l>=0&&V;--l){var B=d[l].s;T[B]==s&&(--T[B],++V)}E=s}return{t:new Q(T),l:E}},xt=function(n,s,o){return n.s==-1?Math.max(xt(n.l,s,o+1),xt(n.r,s,o+1)):s[n.s]=o},zt=function(n){for(var s=n.length;s&&!n[--s];);for(var o=new se(++s),l=0,r=n[0],d=1,m=function(x){o[l++]=x},y=1;y<=s;++y)if(n[y]==r&&y!=s)++d;else{if(!r&&d>2){for(;d>138;d-=138)m(32754);d>2&&(m(d>10?d-11<<5|28690:d-3<<5|12305),d=0)}else if(d>3){for(m(r),--d;d>6;d-=6)m(8304);d>2&&(m(d-3<<5|8208),d=0)}for(;d--;)m(r);d=1,r=n[y]}return{c:o.subarray(0,l),n:s}},Pe=function(n,s){for(var o=0,l=0;l<s.length;++l)o+=n[l]*s[l];return o},Et=function(n,s,o){var l=o.length,r=Vt(s+2);n[r]=l&255,n[r+1]=l>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var d=0;d<l;++d)n[r+d+4]=o[d];return(r+4+l)*8},Ut=function(n,s,o,l,r,d,m,y,x,w,p){ve(s,p++,o),++r[256];for(var b=pt(r,15),z=b.t,T=b.l,E=pt(d,15),V=E.t,W=E.l,ae=zt(z),G=ae.c,ne=ae.n,B=zt(V),M=B.c,L=B.n,U=new se(19),_=0;_<G.length;++_)++U[G[_]&31];for(var _=0;_<M.length;++_)++U[M[_]&31];for(var C=pt(U,7),Y=C.t,me=C.l,K=19;K>4&&!Y[At[K-1]];--K);var xe=w+5<<3,ee=Pe(r,Ie)+Pe(d,Xe)+m,te=Pe(r,z)+Pe(d,V)+m+14+3*K+Pe(U,Y)+2*U[16]+3*U[17]+7*U[18];if(x>=0&&xe<=ee&&xe<=te)return Et(s,p,n.subarray(x,x+w));var Z,R,X,de;if(ve(s,p,1+(te<ee)),p+=2,te<ee){Z=Fe(z,T,0),R=z,X=Fe(V,W,0),de=V;var Ae=Fe(Y,me,0);ve(s,p,ne-257),ve(s,p+5,L-1),ve(s,p+10,K-4),p+=14;for(var _=0;_<K;++_)ve(s,p+3*_,Y[At[_]]);p+=3*K;for(var le=[G,M],oe=0;oe<2;++oe)for(var ce=le[oe],_=0;_<ce.length;++_){var D=ce[_]&31;ve(s,p,Ae[D]),p+=Y[D],D>15&&(ve(s,p,ce[_]>>5&127),p+=ce[_]>>12)}}else Z=Os,R=Ie,X=Ts,de=Xe;for(var _=0;_<y;++_){var P=l[_];if(P>255){var D=P>>18&31;Re(s,p,Z[D+257]),p+=R[D+257],D>7&&(ve(s,p,P>>23&31),p+=bt[D]);var ge=P&31;Re(s,p,X[ge]),p+=de[ge],ge>3&&(Re(s,p,P>>5&8191),p+=ht[ge])}else Re(s,p,Z[P]),p+=R[P]}return Re(s,p,Z[256]),p+R[256]},$s=new yt([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Bt=new Q(0),qs=function(n,s,o,l,r,d){var m=d.z||n.length,y=new Q(l+m+5*(1+Math.ceil(m/7e3))+r),x=y.subarray(l,y.length-r),w=d.l,p=(d.r||0)&7;if(s){p&&(x[0]=d.r>>3);for(var b=$s[s-1],z=b>>13,T=b&8191,E=(1<<o)-1,V=d.p||new se(32768),W=d.h||new se(E+1),ae=Math.ceil(o/3),G=2*ae,ne=function(Ve){return(n[Ve]^n[Ve+1]<<ae^n[Ve+2]<<G)&E},B=new yt(25e3),M=new se(288),L=new se(32),U=0,_=0,C=d.i||0,Y=0,me=d.w||0,K=0;C+2<m;++C){var xe=ne(C),ee=C&32767,te=W[xe];if(V[ee]=te,W[xe]=ee,me<=C){var Z=m-C;if((U>7e3||Y>24576)&&(Z>423||!w)){p=Ut(n,x,0,B,M,L,_,Y,K,C-K,p),Y=U=_=0,K=C;for(var R=0;R<286;++R)M[R]=0;for(var R=0;R<30;++R)L[R]=0}var X=2,de=0,Ae=T,le=ee-te&32767;if(Z>2&&xe==ne(C-le))for(var oe=Math.min(z,Z)-1,ce=Math.min(32767,C),D=Math.min(258,Z);le<=ce&&--Ae&&ee!=te;){if(n[C+X]==n[C+X-le]){for(var P=0;P<D&&n[C+P]==n[C+P-le];++P);if(P>X){if(X=P,de=le,P>oe)break;for(var ge=Math.min(le,P-2),Le=0,R=0;R<ge;++R){var qe=C-le+R&32767,ye=V[qe],je=qe-ye&32767;je>Le&&(Le=je,te=qe)}}}ee=te,te=V[ee],le+=ee-te&32767}if(de){B[Y++]=268435456|vt[X]<<18|jt[de];var H=vt[X]&31,Je=jt[de]&31;_+=bt[H]+ht[Je],++M[257+H],++L[Je],me=C+X,++U}else B[Y++]=n[C],++M[n[C]]}}for(C=Math.max(C,me);C<m;++C)B[Y++]=n[C],++M[n[C]];p=Ut(n,x,w,B,M,L,_,Y,K,C-K,p),w||(d.r=p&7|x[p/8|0]<<3,p-=7,d.h=W,d.p=V,d.i=C,d.w=me)}else{for(var C=d.w||0;C<m+w;C+=65535){var ze=C+65535;ze>=m&&(x[p/8|0]=w,ze=m),p=Et(x,p+1,n.subarray(C,ze))}d.i=m}return Ht(y,0,l+Vt(p)+r)},Vs=(function(){for(var n=new Int32Array(256),s=0;s<256;++s){for(var o=s,l=9;--l;)o=(o&1&&-306674912)^o>>>1;n[s]=o}return n})(),Hs=function(){var n=-1;return{p:function(s){for(var o=n,l=0;l<s.length;++l)o=Vs[o&255^s[l]]^o>>>8;n=o},d:function(){return~n}}},Es=function(n,s,o,l,r){if(!r&&(r={l:1},s.dictionary)){var d=s.dictionary.subarray(-32768),m=new Q(d.length+n.length);m.set(d),m.set(n,d.length),n=m,r.w=d.length}return qs(n,s.level==null?6:s.level,s.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+s.mem,o,l,r)},Nt=function(n,s){var o={};for(var l in n)o[l]=n[l];for(var l in s)o[l]=s[l];return o},J=function(n,s,o){for(;o;++s)n[s]=o,o>>>=8};function Bs(n,s){return Es(n,s||{},0,0)}var Rt=function(n,s,o,l){for(var r in n){var d=n[r],m=s+r,y=l;Array.isArray(d)&&(y=Nt(l,d[1]),d=d[0]),d instanceof Q?o[m]=[d,y]:(o[m+="/"]=[new Q(0),y],Rt(d,m,o,l))}},Dt=typeof TextEncoder<"u"&&new TextEncoder,Ns=typeof TextDecoder<"u"&&new TextDecoder,Rs=0;try{Ns.decode(Bt,{stream:!0}),Rs=1}catch{}function Ot(n,s){var o;if(Dt)return Dt.encode(n);for(var l=n.length,r=new Q(n.length+(n.length>>1)),d=0,m=function(w){r[d++]=w},o=0;o<l;++o){if(d+5>r.length){var y=new Q(d+8+(l-o<<1));y.set(r),r=y}var x=n.charCodeAt(o);x<128||s?m(x):x<2048?(m(192|x>>6),m(128|x&63)):x>55295&&x<57344?(x=65536+(x&1047552)|n.charCodeAt(++o)&1023,m(240|x>>18),m(128|x>>12&63),m(128|x>>6&63),m(128|x&63)):(m(224|x>>12),m(128|x>>6&63),m(128|x&63))}return Ht(r,0,d)}var gt=function(n){var s=0;if(n)for(var o in n){var l=n[o].length;l>65535&&et(9),s+=l+4}return s},Tt=function(n,s,o,l,r,d,m,y){var x=l.length,w=o.extra,p=y&&y.length,b=gt(w);J(n,s,m!=null?33639248:67324752),s+=4,m!=null&&(n[s++]=20,n[s++]=o.os),n[s]=20,s+=2,n[s++]=o.flag<<1|(d<0&&8),n[s++]=r&&8,n[s++]=o.compression&255,n[s++]=o.compression>>8;var z=new Date(o.mtime==null?Date.now():o.mtime),T=z.getFullYear()-1980;if((T<0||T>119)&&et(10),J(n,s,T<<25|z.getMonth()+1<<21|z.getDate()<<16|z.getHours()<<11|z.getMinutes()<<5|z.getSeconds()>>1),s+=4,d!=-1&&(J(n,s,o.crc),J(n,s+4,d<0?-d-2:d),J(n,s+8,o.size)),J(n,s+12,x),J(n,s+14,b),s+=16,m!=null&&(J(n,s,p),J(n,s+6,o.attrs),J(n,s+10,m),s+=14),n.set(l,s),s+=x,b)for(var E in w){var V=w[E],W=V.length;J(n,s,+E),J(n,s+2,W),n.set(V,s+4),s+=4+W}return p&&(n.set(y,s),s+=p),s},Ps=function(n,s,o,l,r){J(n,s,101010256),J(n,s+8,o),J(n,s+10,o),J(n,s+12,l),J(n,s+16,r)};function Fs(n,s){s||(s={});var o={},l=[];Rt(n,"",o,s);var r=0,d=0;for(var m in o){var y=o[m],x=y[0],w=y[1],p=w.level==0?0:8,b=Ot(m),z=b.length,T=w.comment,E=T&&Ot(T),V=E&&E.length,W=gt(w.extra);z>65535&&et(11);var ae=p?Bs(x,w):x,G=ae.length,ne=Hs();ne.p(x),l.push(Nt(w,{size:x.length,crc:ne.d(),c:ae,f:b,m:E,u:z!=m.length||E&&T.length!=V,o:r,compression:p})),r+=30+z+W+G,d+=76+2*(z+W)+(V||0)+G}for(var B=new Q(d+22),M=r,L=d-r,U=0;U<l.length;++U){var b=l[U];Tt(B,b.o,b,b.f,b.u,b.c.length);var _=30+b.f.length+gt(b.extra);B.set(b.c,b.o+_),Tt(B,r,b,b.f,b.u,b.c.length,b.o,b.m),r+=16+_+(b.m?b.m.length:0)}return Ps(B,r,l.length,L,M),B}function Ls(){const n=gs("install-prompt",()=>null),s=ue(()=>Mt.isNativePlatform()||typeof window<"u"&&window.matchMedia("(display-mode: standalone)").matches),o=ue(()=>!s.value&&n.value!==null),l=ue(()=>{if(typeof navigator>"u")return!1;const x=navigator.userAgent,w=/iphone|ipad|ipod/i.test(x),p=/safari/i.test(x)&&!/chrome|crios|fxios|edgios|edg\//i.test(x);return w&&p&&!s.value}),r=ue(()=>{if(typeof navigator>"u"||s.value||l.value)return!1;const x=navigator.userAgent;return/iphone|ipad|ipod/i.test(x)?!1:!(/chrome|chromium|crios/i.test(x)&&!/edge\/[0-9]/i.test(x)||/edg\//i.test(x)||/opr\//i.test(x))}),d=ue(()=>!s.value&&!o.value&&!l.value&&!r.value),m=k(!1);async function y(){if(n.value){m.value=!0;try{await n.value.prompt();const{outcome:x}=await n.value.userChoice;x==="accepted"&&(n.value=null)}finally{m.value=!1}}}return{isInstalled:s,canInstall:o,isIosSafari:l,isUnsupportedBrowser:r,isChromiumNoPrompt:d,installing:m,install:y}}const Js={class:"space-y-6"},Ws={class:"space-y-2"},Gs={class:"flex items-center justify-between px-4 py-3.5"},Qs={class:"flex items-center justify-between px-4 py-3.5"},Ys={class:"flex items-center justify-between px-4 py-3.5"},Ks={class:"flex items-center justify-between px-4 py-3"},Zs={class:"flex items-center justify-between px-4 py-3"},Xs={key:0,class:"flex items-center justify-between px-4 pb-3"},ea={class:"flex items-center gap-2"},ta={class:"w-4 text-center text-sm font-medium tabular-nums"},sa={class:"flex items-center justify-between px-4 py-3"},aa={class:"flex items-center justify-between px-4 py-3"},na={class:"flex items-center justify-between px-4 py-3"},la={class:"flex items-center justify-between px-4 py-3"},oa={class:"px-4 py-3 pb-4 space-y-2"},ia={class:"flex gap-2"},ra={class:"space-y-2"},da={class:"flex items-center justify-between px-4 py-3.5"},ca={class:"flex items-center justify-between px-4 py-3.5"},ua={class:"flex items-center justify-between px-4 py-3.5"},pa={key:0,class:"flex items-center justify-between px-4 py-3.5"},fa={key:1,class:"flex items-center justify-between px-4 py-3.5"},va={class:"flex items-center justify-between px-4 py-3.5"},ma={class:"space-y-0.5"},xa={class:"text-xs"},ga={key:0,class:"text-amber-400"},ya={key:0,class:"text-green-400"},ba={key:1,class:"text-red-400"},ha={key:2,class:"text-slate-500"},wa={class:"shrink-0"},ka={key:1,class:"w-2 h-2 rounded-full bg-green-400 mx-2"},_a={key:2,class:"flex items-center justify-between px-4 py-3.5"},Ca={class:"space-y-0.5"},Sa={class:"text-xs text-green-400"},Ia={key:3,class:"flex items-center justify-between px-4 py-3.5"},Aa={class:"space-y-2"},ja={class:"flex items-center justify-between px-4 py-3.5"},za={class:"flex items-center justify-between px-4 py-3.5"},Ua={class:"flex items-center justify-between px-4 py-3.5"},Da={class:"flex items-center justify-between px-4 py-3.5"},Oa={class:"space-y-2"},Ta={class:"flex items-center justify-between px-4 py-3.5"},Ma={class:"text-sm font-mono font-medium"},$a={class:"flex items-center justify-between px-4 py-3.5"},qa={class:"text-sm font-mono text-slate-300"},Va={key:0,class:"flex items-center justify-between px-4 py-3.5"},Ha={class:"flex items-center justify-between px-4 py-3.5"},Ea={class:"flex items-center justify-between px-4 py-3.5"},Ba={class:"text-sm font-mono text-slate-300"},Na={class:"flex items-center gap-2 shrink-0"},Ra={key:0,class:"border-t border-slate-800 px-4 py-3 space-y-2"},Pa={key:0,class:"flex items-center gap-2 text-xs text-slate-500"},Fa={class:"flex items-center gap-2 mb-3"},La={class:"font-mono text-xs text-slate-200"},Ja=["onClick"],Wa={class:"text-xs font-mono text-slate-300"},Ga={key:0,class:"text-[10px] leading-relaxed font-mono text-slate-400 bg-slate-950 px-3 py-2 overflow-x-auto border-t border-slate-800"},Qa=["onClick"],Ya={class:"min-w-0 text-left"},Ka={class:"text-xs font-mono text-slate-400"},Za={class:"text-[10px] text-slate-600 ml-2"},Xa={key:0,class:"text-[10px] leading-relaxed font-mono text-slate-400 bg-slate-950 px-3 py-2 overflow-x-auto border-t border-slate-800"},en={class:"space-y-2"},tn={class:"flex items-start justify-between px-4 py-3.5 gap-3"},sn={class:"space-y-0.5 min-w-0"},an={key:0,class:"mt-1.5"},nn={key:0,class:"text-xs text-green-400 flex items-center gap-1"},ln={key:1,class:"space-y-0.5"},on={class:"flex items-center gap-2 shrink-0"},rn={key:0,class:"text-xs text-slate-500"},dn={key:0,class:"border-t border-slate-800 px-4 py-3"},cn={key:0,class:"flex items-center gap-2 text-xs text-slate-500"},un={key:1,class:"text-xs text-slate-500"},pn={key:2,class:"space-y-1.5"},fn={class:"text-[11px] font-mono text-slate-300 truncate"},vn={class:"text-[11px] font-mono text-slate-500 shrink-0"},mn={class:"flex items-center justify-between px-4 py-3.5"},xn={class:"px-4 py-3.5 space-y-2"},gn={class:"flex items-center justify-between"},yn={class:"space-y-1"},bn={class:"flex justify-between text-xs text-slate-400"},hn={class:"h-1.5 rounded-full bg-slate-800 overflow-hidden"},wn={class:"flex items-center justify-between gap-2"},kn={class:"flex items-center gap-1.5 text-xs"},_n={class:"space-y-2"},Cn={class:"flex items-center justify-between px-4 py-3.5"},Sn={class:"flex items-center justify-between px-4 py-3.5"},In={class:"flex items-center justify-between px-4 py-3.5"},An={class:"p-5 space-y-4 flex flex-col max-h-[80vh]"},jn={class:"flex items-center justify-between shrink-0"},zn={key:0,class:"flex items-center justify-center py-8 text-slate-500 text-sm"},Un={key:1,class:"text-sm text-red-400 py-4"},Dn={key:2,class:"overflow-y-auto divide-y divide-slate-800 -mx-5 px-5"},On={class:"min-w-0"},Tn=["href"],Mn={key:1,class:"text-sm text-slate-200 truncate block"},$n={class:"text-xs text-slate-500 font-mono"},qn={class:"p-5 space-y-4"},Vn={class:"flex items-center justify-between"},Hn={key:0,class:"space-y-3 text-sm text-slate-300"},En={class:"flex items-start gap-3"},Bn={class:"flex justify-end"},Nn={class:"p-5 space-y-4"},Rn={class:"flex items-center justify-between"},Pn={class:"flex items-center gap-2.5 cursor-pointer"},Fn=["checked","indeterminate"],Ln={class:"space-y-3"},Jn={class:"text-xs font-semibold uppercase tracking-wider text-slate-500"},Wn={class:"border border-slate-800 rounded-xl divide-y divide-slate-800 overflow-hidden"},Gn=["onUpdate:modelValue"],Qn={class:"text-sm text-slate-300"},Yn={key:0,class:"space-y-1"},Kn={class:"flex justify-end gap-2 pt-1"},Zn={key:0,class:"p-5 space-y-4"},Xn={class:"flex items-start gap-3"},el={class:"w-10 h-10 rounded-full bg-red-500/10 flex items-center justify-center flex-shrink-0"},tl={class:"space-y-1"},sl={class:"text-sm text-slate-400"},al={class:"flex justify-end"},nl={key:1,class:"p-5 space-y-4"},ll={class:"flex items-start gap-3"},ol={class:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center flex-shrink-0"},il={class:"flex justify-end"},rl={key:2,class:"p-5 space-y-4"},dl={class:"flex items-start gap-3"},cl={class:"w-10 h-10 rounded-full bg-primary-500/10 flex items-center justify-center flex-shrink-0"},ul={class:"border border-slate-800 rounded-xl p-3 space-y-1"},pl={class:"text-xs text-slate-500 mb-2"},fl={key:0,class:"flex items-center justify-between text-xs"},vl={class:"text-slate-400"},ml={class:"font-mono text-slate-300"},xl={class:"flex justify-end gap-2 pt-1"},gl={class:"p-5 space-y-4"},yl={class:"flex items-start gap-3"},bl={class:"w-10 h-10 rounded-full bg-red-500/10 flex items-center justify-center flex-shrink-0"},hl={class:"space-y-1 border border-slate-800 rounded-xl divide-y divide-slate-800 overflow-hidden"},wl=["onUpdate:modelValue"],kl={class:"min-w-0"},_l={class:"text-sm font-medium text-slate-200 leading-snug"},Cl={class:"text-xs text-slate-500 leading-snug"},Sl={class:"flex justify-end gap-2 pt-1"},Il={key:0,class:"p-5 space-y-4"},Al={class:"flex items-start gap-3"},jl={class:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center flex-shrink-0"},zl={key:1,class:"p-5 space-y-4"},Ul={class:"flex items-start gap-3"},Dl={class:"w-10 h-10 rounded-full bg-red-500/10 flex items-center justify-center flex-shrink-0"},Ol={class:"flex justify-end gap-2 pt-1"},Tl={class:"p-5 space-y-5"},Ml={class:"space-y-3"},$l={class:"flex items-center gap-3 cursor-pointer"},ql={key:0,class:"ml-7"},Vl={class:"space-y-3"},Hl={class:"flex items-center gap-3 cursor-pointer"},El={key:0,class:"ml-7 space-y-2"},Bl=["onClick"],Nl={class:"flex justify-end gap-2 pt-1"},Ql=ys({__name:"settings",setup(n){const s=_s(),o=It(),{settings:l,set:r}=As(),d=[{label:"Habits",items:[{key:"habits",label:"Habits"},{key:"completions",label:"Completions",parent:"habits"},{key:"habit_logs",label:"Habit logs",parent:"habits"},{key:"habit_schedules",label:"Habit schedules",parent:"habits"},{key:"reminders",label:"Habit reminders",parent:"habits"}]},{label:"Check-ins",items:[{key:"checkin_templates",label:"Templates"},{key:"checkin_questions",label:"Questions",parent:"checkin_templates"},{key:"checkin_responses",label:"Responses",parent:"checkin_questions"},{key:"checkin_reminders",label:"Reminders",parent:"checkin_templates"}]},{label:"Other",items:[{key:"scribbles",label:"Scribbles"},{key:"checkin_entries",label:"Journal entries"}]},{label:"TODOs & Bored",items:[{key:"todos",label:"TODOs"},{key:"bored_categories",label:"Bored categories"},{key:"bored_activities",label:"Bored activities",parent:"bored_categories"}]}];function m(){return{habits:!0,completions:!0,habit_logs:!0,habit_schedules:!0,reminders:!0,checkin_templates:!0,checkin_questions:!0,checkin_responses:!0,checkin_reminders:!0,scribbles:!0,checkin_entries:!0,todos:!0,bored_categories:!0,bored_activities:!0}}const y=k(!1),x=k(!1),w=ut(m()),p=k([]),b=Object.keys(m()),z=ue(()=>b.every(v=>w[v])),T=ue(()=>b.every(v=>!w[v]));function E(){const v=!z.value;for(const e of b)w[e]=v}function V(){Object.assign(w,m()),p.value=[],y.value=!0}function W(){return[["completions","habits","Completions","Habits"],["habit_logs","habits","Habit logs","Habits"],["habit_schedules","habits","Habit schedules","Habits"],["reminders","habits","Habit reminders","Habits"],["checkin_questions","checkin_templates","Questions","Check-in templates"],["checkin_responses","checkin_questions","Responses","Check-in questions"],["checkin_reminders","checkin_templates","Check-in reminders","Check-in templates"],["bored_activities","bored_categories","Bored activities","Bored categories"]].filter(([e,g])=>w[e]&&!w[g]).map(([,,e,g])=>`${e} require ${g}`)}async function ae(){if(s.isAvailable&&(p.value=W(),!(p.value.length>0))){x.value=!0;try{const v=await s.exportJsonData({...w}),e=JSON.stringify(v,null,2),g=URL.createObjectURL(new Blob([e],{type:"application/json"}));try{const $=document.createElement("a");$.href=g,$.download=`habitat-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild($),$.click(),document.body.removeChild($)}finally{URL.revokeObjectURL(g)}y.value=!1}finally{x.value=!1}}}const G=k(!1);async function ne(){if(s.isAvailable){G.value=!0;try{const v=await s.exportDb(),e=URL.createObjectURL(new Blob([v],{type:"application/x-sqlite3"}));try{const g=document.createElement("a");g.href=e,g.download=`habitat-${new Date().toISOString().slice(0,10)}.sqlite3`,document.body.appendChild(g),g.click(),document.body.removeChild(g)}finally{URL.revokeObjectURL(e)}}finally{G.value=!1}}}const B=k(null),M=k(!1),L=k(!1),U=k(null),_=k(null),C=k(!1);function Y(){U.value=null,_.value=null,C.value=!1,B.value?.click()}async function me(v){const e=v.target.files?.[0];if(e){v.target.value="";try{const g=JSON.parse(await e.text());if(typeof g!="object"||g===null){_.value="Invalid file.",M.value=!0;return}const $=g.version;if(typeof $!="number"){_.value="Missing version field — not a Habitat export.",M.value=!0;return}if($!==1){_.value=`Unsupported version ${$}. This app supports version 1.`,M.value=!0;return}U.value=g,M.value=!0}catch{_.value="Could not parse file as JSON.",M.value=!0}}}function K(){window.location.reload()}async function xe(){if(!(!U.value||!s.isAvailable)){L.value=!0;try{await s.importJson(U.value),C.value=!0,U.value=null}finally{L.value=!1}}}function ee(){return new Promise((v,e)=>{const g=indexedDB.open("habitat",1);g.onupgradeneeded=()=>g.result.createObjectStore("voice_notes",{keyPath:"id"}),g.onsuccess=()=>v(g.result),g.onerror=()=>e(g.error)})}function te(v){return new Promise((e,g)=>{const $=v.transaction("voice_notes","readonly").objectStore("voice_notes").getAll();$.onsuccess=()=>e($.result),$.onerror=()=>g($.error)})}const Z=k(!1);async function R(){Z.value=!0;try{const v=await ee(),e=await te(v);if(e.length===0)return;const g={};for(const S of e){const we=S.mimeType.split("/")[1]?.split(";")[0]??"audio",fe=S.created_at.slice(0,19).replace(/[:.]/g,"-");g[`${fe}.${we}`]=new Uint8Array(await S.blob.arrayBuffer())}const $=Fs(g),I=URL.createObjectURL(new Blob([$.buffer],{type:"application/zip"}));try{const S=document.createElement("a");S.href=I,S.download=`habitat-voice-${new Date().toISOString().slice(0,10)}.zip`,document.body.appendChild(S),S.click(),document.body.removeChild(S)}finally{URL.revokeObjectURL(I)}}finally{Z.value=!1}}function X(){return new Promise(v=>{const e=indexedDB.deleteDatabase("habitat");e.onsuccess=()=>v(),e.onerror=()=>v(),e.onblocked=()=>v()})}function de(){for(const v of Object.keys(localStorage))v.startsWith("checkin-")&&localStorage.removeItem(v)}const Ae=k(!1);async function le(v){localStorage.removeItem("habitat-has-data"),await s.nukeOpfs(),await X(),de(),v?window.location.reload():Ae.value=!0}const oe=k(!1),ce=k(!1),D=ut({enableSteps:!0,stepGoal:1e4,enableMeals:!0,meals:[{name:"Breakfast",calories:600},{name:"Lunch",calories:600},{name:"Dinner",calories:600}]});function P(){D.meals.push({name:"",calories:600})}function ge(v){D.meals.splice(v,1)}async function Le(v){r("enableHealth",v),v&&s.isAvailable&&((await s.getHabits()).some(g=>g.tags.includes("habitat-health"))||(oe.value=!0))}async function qe(){if(s.isAvailable){ce.value=!0;try{const v={description:"",frequency:"daily",annotations:{},paused_until:null};if(D.enableSteps&&await s.createHabit({...v,name:"Steps",type:"NUMERIC",target_value:D.stepGoal,color:"#ef4444",icon:"i-heroicons-fire",tags:["habitat-health","habitat-steps"]}),D.enableMeals)for(const e of D.meals)e.name.trim()&&await s.createHabit({...v,name:e.name.trim(),type:"LIMIT",target_value:e.calories,color:"#f59e0b",icon:"i-heroicons-sparkles",tags:["habitat-health","habitat-meals"]});oe.value=!1}finally{ce.value=!1}}}const ye=k(!1),je=k(!1),H=ut({habits:!0,checkinEntries:!0,checkins:!0,scribbles:!0,voiceNotes:!0,todos:!1,boredData:!1,appliedDefaults:!1}),Je=[{key:"habits",label:"Habits & completions",description:"All habits, logs, and completion history"},{key:"checkinEntries",label:"Check-in entries",description:"Daily check-in answers stored in the DB"},{key:"checkins",label:"Check-in templates & responses",description:"All templates, questions, and recorded answers"},{key:"scribbles",label:"Scribbles",description:"All free-form notes"},{key:"voiceNotes",label:"Voice recordings",description:"IndexedDB audio data"},{key:"todos",label:"TODOs",description:"All tasks and their history"},{key:"boredData",label:"Bored activities",description:"All custom activities (system categories preserved)"},{key:"appliedDefaults",label:"Applied defaults",description:"Re-enables seeding of default check-in templates"}],ze=ue(()=>!(H.habits||H.checkinEntries||H.checkins||H.scribbles||H.voiceNotes||H.todos||H.boredData||H.appliedDefaults));async function Ve(){if(!(!s.isAvailable||ze.value)){je.value=!0;try{const v=[];H.habits&&v.push(s.deleteAllHabits()),H.checkinEntries&&v.push(s.deleteAllCheckinEntries()),H.checkins&&v.push(s.deleteAllCheckinData()),H.scribbles&&v.push(s.deleteAllScribbles()),H.todos&&v.push(s.deleteAllTodos()),H.boredData&&v.push(s.deleteAllBoredData()),H.appliedDefaults&&v.push(s.clearAppliedDefaults()),await Promise.all(v),H.checkinEntries&&de(),H.voiceNotes&&await X(),H.habits&&localStorage.removeItem("habitat-has-data"),ye.value=!1}finally{je.value=!1}}}const Ue=k(!1),We=k(!1);async function wt(v){if(s.isAvailable){We.value=!0;try{await le(v)}catch{Ue.value=!1}finally{We.value=!1}}}const Ce=k(null),tt=k(!1);async function Pt(){if(s.isAvailable){tt.value=!0,Ce.value=null;try{Ce.value=await s.integrityCheck()}finally{tt.value=!1}}}const Ft=ue(()=>Ce.value!==null&&Ce.value.length===1&&Ce.value[0]==="ok"),He=k(!1),pe=k(null),st=k(!1),be=k(null);async function Lt(){if(s.isAvailable){st.value=!0;try{pe.value=await s.getDbInfo()}finally{st.value=!1}}}function Jt(){He.value=!He.value,He.value&&!pe.value&&Lt()}const Ee=k(!1),De=k([]),at=k(!1);async function kt(v,e=""){const g=[];for await(const[$,I]of v.entries()){const S=e?`${e}/${$}`:$;if(I.kind==="directory")g.push(...await kt(I,S));else{const we=await I.getFile();g.push({path:S,size:we.size})}}return g}async function _t(){at.value=!0;try{const v=await navigator.storage.getDirectory();De.value=await kt(v)}finally{at.value=!1}}function Wt(){Ee.value=!Ee.value,Ee.value&&_t()}function nt(v){return v<1024?`${v} B`:v<1024*1024?`${(v/1024).toFixed(1)} KB`:`${(v/(1024*1024)).toFixed(2)} MB`}const lt=k(!1);async function Gt(){lt.value=!0;try{if("serviceWorker"in navigator){const v=await navigator.serviceWorker.getRegistrations();await Promise.all(v.map(e=>e.unregister()))}if("caches"in window){const v=await caches.keys();await Promise.all(v.map(e=>caches.delete(e)))}window.location.reload()}catch{lt.value=!1}}const{isInstalled:Qt,canInstall:Yt,isIosSafari:Ge,isChromiumNoPrompt:Kt,installing:Zt,install:Xt}=Ls(),es=Mt.isNativePlatform(),Oe=k(!1);function ts(){Yt.value?Xt():Oe.value=!0}const{permission:Te,requestPermission:ss,sendTestNotification:as}=bs();async function ns(){await ss()}const Be=k(!1),ot=k([]),it=k(!1),rt=k(!1);async function ls(){if(Be.value=!0,!(ot.value.length>0)){it.value=!0,rt.value=!1;try{const v=It().app.baseURL,e=await $fetch(`${v}licenses.json`);ot.value=e}catch{rt.value=!0}finally{it.value=!1}}}const Me=k(null),he=k(null);async function Ct(){"storage"in navigator&&("estimate"in navigator.storage&&(Me.value=await navigator.storage.estimate()),"persisted"in navigator.storage&&(he.value=await navigator.storage.persisted()))}async function os(){"storage"in navigator&&"persist"in navigator.storage&&(he.value=await navigator.storage.persist())}const Qe=k(!1),Ne=k(!1),Ye=k(!1);return hs(Ne,v=>{v&&Ct()}),(v,e)=>{const g=rs,$=ds,I=ws,S=ft,we=zs,fe=Cs,dt=Ss,is=Is;return u(),f("div",Js,[e[146]||(e[146]=t("header",null,[t("p",{class:"text-sm text-slate-500"},"Preferences"),t("h2",{class:"text-2xl font-bold"},"Settings")],-1)),t("section",Ws,[e[61]||(e[61]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-slate-500 px-1"},"Display",-1)),c($,{ui:{root:"rounded-2xl",body:"p-0 sm:p-0 divide-y divide-slate-800"}},{default:j(()=>[t("div",Gs,[e[45]||(e[45]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"24-hour time"),t("p",{class:"text-xs text-slate-500"},"Show times as 17:34 instead of 5:34 PM.")],-1)),c(g,{"model-value":a(l).use24HourTime,"onUpdate:modelValue":e[0]||(e[0]=i=>a(r)("use24HourTime",i))},null,8,["model-value"])]),t("div",Qs,[e[46]||(e[46]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Sticky bottom bar"),t("p",{class:"text-xs text-slate-500"},"Keep the nav bar fixed at the bottom when scrolling.")],-1)),c(g,{"model-value":a(l).stickyNav,"onUpdate:modelValue":e[1]||(e[1]=i=>a(r)("stickyNav",i))},null,8,["model-value"])]),t("div",Ys,[e[47]||(e[47]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Extra bottom padding"),t("p",{class:"text-xs text-slate-500"},"Add space below the nav for Android gesture buttons.")],-1)),c(g,{"model-value":a(l).navExtraPadding,"onUpdate:modelValue":e[2]||(e[2]=i=>a(r)("navExtraPadding",i))},null,8,["model-value"])]),e[57]||(e[57]=t("div",{class:"px-4 pt-3 pb-1"},[t("p",{class:"text-[10px] font-semibold uppercase tracking-wider text-slate-600"},"Navigation")],-1)),t("div",Ks,[e[48]||(e[48]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Today tab"),t("p",{class:"text-xs text-slate-500"},"Show daily progress and log habits for today.")],-1)),c(g,{"model-value":a(l).enableToday,"onUpdate:modelValue":e[3]||(e[3]=i=>a(r)("enableToday",i))},null,8,["model-value"])]),t("div",null,[t("div",Zs,[e[49]||(e[49]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Week view"),t("p",{class:"text-xs text-slate-500"},"Quick-fill view for logging multiple days at once.")],-1)),c(g,{"model-value":a(l).enableWeek,"onUpdate:modelValue":e[4]||(e[4]=i=>a(r)("enableWeek",i))},null,8,["model-value"])]),a(l).enableWeek?(u(),f("div",Xs,[e[50]||(e[50]=t("p",{class:"text-sm text-slate-400"},"Days to show",-1)),t("div",ea,[t("button",{class:"w-7 h-7 rounded-lg bg-slate-800 border border-slate-700 text-slate-300 flex items-center justify-center text-sm",onClick:e[5]||(e[5]=i=>a(r)("weekDays",Math.max(3,(a(l).weekDays||3)-1)))},"−"),t("span",ta,A(a(l).weekDays||3),1),t("button",{class:"w-7 h-7 rounded-lg bg-slate-800 border border-slate-700 text-slate-300 flex items-center justify-center text-sm",onClick:e[6]||(e[6]=i=>a(r)("weekDays",Math.min(7,(a(l).weekDays||3)+1)))},"+")])])):O("",!0)]),e[58]||(e[58]=t("div",{class:"px-4 pt-3 pb-1"},[t("p",{class:"text-[10px] font-semibold uppercase tracking-wider text-slate-600"},"Habits page")],-1)),t("div",sa,[e[51]||(e[51]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Show tags"),t("p",{class:"text-xs text-slate-500"},"Display habit tags in the habits list.")],-1)),c(g,{"model-value":a(l).showTagsOnHabits,"onUpdate:modelValue":e[7]||(e[7]=i=>a(r)("showTagsOnHabits",i))},null,8,["model-value"])]),t("div",aa,[e[52]||(e[52]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Show annotations"),t("p",{class:"text-xs text-slate-500"},"Display key:value metadata in the habits list.")],-1)),c(g,{"model-value":a(l).showAnnotationsOnHabits,"onUpdate:modelValue":e[8]||(e[8]=i=>a(r)("showAnnotationsOnHabits",i))},null,8,["model-value"])]),e[59]||(e[59]=t("div",{class:"px-4 pt-3 pb-1"},[t("p",{class:"text-[10px] font-semibold uppercase tracking-wider text-slate-600"},"Today page")],-1)),t("div",na,[e[53]||(e[53]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Show tags"),t("p",{class:"text-xs text-slate-500"},"Display habit tags in today's list.")],-1)),c(g,{"model-value":a(l).showTagsOnToday,"onUpdate:modelValue":e[9]||(e[9]=i=>a(r)("showTagsOnToday",i))},null,8,["model-value"])]),t("div",la,[e[54]||(e[54]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Show annotations"),t("p",{class:"text-xs text-slate-500"},"Display key:value metadata in today's list.")],-1)),c(g,{"model-value":a(l).showAnnotationsOnToday,"onUpdate:modelValue":e[10]||(e[10]=i=>a(r)("showAnnotationsOnToday",i))},null,8,["model-value"])]),e[60]||(e[60]=t("div",{class:"px-4 pt-3 pb-1"},[t("p",{class:"text-[10px] font-semibold uppercase tracking-wider text-slate-600"},"Log entries")],-1)),t("div",oa,[e[55]||(e[55]=t("p",{class:"text-sm font-medium"},"Input mode",-1)),e[56]||(e[56]=t("p",{class:"text-xs text-slate-500 mb-2"},"How numeric values are applied when logging a habit.",-1)),t("div",ia,[t("button",{class:_e(["flex-1 py-2 px-3 rounded-xl text-xs font-medium border transition-colors",a(l).logInputMode==="increment"?"bg-primary-500/15 border-primary-500/40 text-primary-300":"bg-slate-800 border-slate-700 text-slate-400"]),onClick:e[11]||(e[11]=i=>a(r)("logInputMode","increment"))}," Add to total ",2),t("button",{class:_e(["flex-1 py-2 px-3 rounded-xl text-xs font-medium border transition-colors",a(l).logInputMode==="absolute"?"bg-primary-500/15 border-primary-500/40 text-primary-300":"bg-slate-800 border-slate-700 text-slate-400"]),onClick:e[12]||(e[12]=i=>a(r)("logInputMode","absolute"))}," Set total ",2)])])]),_:1})]),t("section",ra,[e[73]||(e[73]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-slate-500 px-1"},"Features",-1)),c($,{ui:{root:"rounded-2xl",body:"p-0 sm:p-0 divide-y divide-slate-800"}},{default:j(()=>[t("div",da,[e[62]||(e[62]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Enable Journalling"),t("p",{class:"text-xs text-slate-500"},"Show Check-in, Scribbles, and Voice in the navigation.")],-1)),c(g,{"model-value":a(l).enableJournalling,"onUpdate:modelValue":e[13]||(e[13]=i=>a(r)("enableJournalling",i))},null,8,["model-value"])]),t("div",ca,[e[63]||(e[63]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Enable Health"),t("p",{class:"text-xs text-slate-500"},"Track daily steps and meal calories.")],-1)),c(g,{"model-value":a(l).enableHealth,"onUpdate:modelValue":Le},null,8,["model-value"])]),t("div",ua,[e[64]||(e[64]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Enable TODOs"),t("p",{class:"text-xs text-slate-500"},"Standalone task tracker with due dates, priorities, and recurring tasks.")],-1)),c(g,{"model-value":a(l).enableTodos,"onUpdate:modelValue":e[14]||(e[14]=i=>a(r)("enableTodos",i))},null,8,["model-value"])]),a(l).enableTodos?(u(),f("div",pa,[e[65]||(e[65]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},`Enable "I'm Bored" Mode`),t("p",{class:"text-xs text-slate-500"},"Magic 8-ball oracle that suggests activities from curated categories.")],-1)),c(g,{"model-value":a(l).enableBored,"onUpdate:modelValue":e[15]||(e[15]=i=>a(r)("enableBored",i))},null,8,["model-value"])])):O("",!0),a(l).enableJournalling?(u(),f("div",fa,[e[66]||(e[66]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Save transcriptions"),t("p",{class:"text-xs text-slate-500"},[h("After recording, offer to save the speech-to-text transcript as a Scribble tagged "),t("code",{class:"text-slate-400"},"habitat-transcribed"),h(".")])],-1)),c(g,{"model-value":a(l).saveTranscribedNotes,"onUpdate:modelValue":e[16]||(e[16]=i=>a(r)("saveTranscribedNotes",i))},null,8,["model-value"])])):O("",!0),t("div",va,[t("div",ma,[e[67]||(e[67]=t("p",{class:"text-sm font-medium"},"Notifications",-1)),t("p",xa,[a(Ge)?(u(),f("span",ga,"Install the app first — iOS only allows notifications in installed PWAs")):(u(),f(N,{key:1},[a(Te)==="granted"?(u(),f("span",ya,"Enabled — add reminders on individual habit pages")):a(Te)==="denied"?(u(),f("span",ba,"Blocked — allow in browser/OS settings to enable")):(u(),f("span",ha,"Not enabled — grant permission to receive reminders"))],64))])]),t("div",wa,[a(Te)==="default"&&!a(Ge)?(u(),re(I,{key:0,size:"sm",variant:"soft",color:"neutral",icon:"i-heroicons-bell",onClick:ns},{default:j(()=>[...e[68]||(e[68]=[h(" Enable ",-1)])]),_:1})):a(Te)==="granted"?(u(),f("div",ka)):a(Te)==="denied"?(u(),re(S,{key:2,name:"i-heroicons-bell-slash",class:"w-5 h-5 text-red-400 mx-1"})):a(Ge)?(u(),re(S,{key:3,name:"i-heroicons-bell-slash",class:"w-5 h-5 text-amber-400 mx-1"})):O("",!0)])]),a(Qt)?(u(),f("div",_a,[t("div",Ca,[e[69]||(e[69]=t("p",{class:"text-sm font-medium"},"Habitat is installed",-1)),t("p",Sa,A(a(es)?"Running as a native app":"Running as a standalone app"),1)]),e[70]||(e[70]=t("div",{class:"w-2 h-2 rounded-full bg-green-400 mx-2 shrink-0"},null,-1))])):(u(),f("div",Ia,[e[72]||(e[72]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Install Habitat"),t("p",{class:"text-xs text-slate-500"},"Add to your home screen for offline access and notifications")],-1)),c(I,{size:"sm",variant:"soft",color:"primary",icon:"i-heroicons-arrow-down-tray",loading:a(Zt),class:"shrink-0",onClick:ts},{default:j(()=>[...e[71]||(e[71]=[h(" Install ",-1)])]),_:1},8,["loading"])]))]),_:1})]),t("section",Aa,[e[78]||(e[78]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-slate-500 px-1"},"Data",-1)),c($,{ui:{root:"rounded-2xl",body:"p-0 sm:p-0 divide-y divide-slate-800"}},{default:j(()=>[t("div",ja,[e[74]||(e[74]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Export data"),t("p",{class:"text-xs text-slate-500"},"Download selected data as a versioned JSON file.")],-1)),c(I,{icon:"i-heroicons-arrow-down-tray",variant:"ghost",color:"neutral",size:"sm",disabled:!a(s).isAvailable,onClick:V},null,8,["disabled"])]),t("div",za,[e[75]||(e[75]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Import data"),t("p",{class:"text-xs text-slate-500"},"Merge from a Habitat JSON export. Existing records are kept.")],-1)),t("input",{ref_key:"importInput",ref:B,type:"file",accept:".json",class:"hidden",onChange:me},null,544),c(I,{icon:"i-heroicons-arrow-up-tray",variant:"ghost",color:"neutral",size:"sm",disabled:!a(s).isAvailable,onClick:Y},null,8,["disabled"])]),t("div",Ua,[e[76]||(e[76]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Export SQLite"),t("p",{class:"text-xs text-slate-500"},[h("Download the raw "),t("span",{class:"font-mono"},".sqlite3"),h(" database file.")])],-1)),c(I,{icon:"i-heroicons-circle-stack",variant:"ghost",color:"neutral",size:"sm",loading:a(G),disabled:!a(s).isAvailable,onClick:ne},null,8,["loading","disabled"])]),t("div",Da,[e[77]||(e[77]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Export voice notes"),t("p",{class:"text-xs text-slate-500"},[h("Download all voice recordings as a "),t("span",{class:"font-mono"},".zip"),h(" archive.")])],-1)),c(I,{icon:"i-heroicons-musical-note",variant:"ghost",color:"neutral",size:"sm",loading:a(Z),onClick:R},null,8,["loading"])])]),_:1})]),t("section",Oa,[t("button",{class:"w-full flex items-center justify-between px-1 py-0.5",onClick:e[17]||(e[17]=i=>Qe.value=!a(Qe))},[e[79]||(e[79]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"About",-1)),c(S,{name:a(Qe)?"i-heroicons-chevron-up":"i-heroicons-chevron-down",class:"w-3.5 h-3.5 text-slate-600"},null,8,["name"])]),a(Qe)?(u(),re($,{key:0,ui:{root:"rounded-2xl",body:"p-0 sm:p-0 divide-y divide-slate-800"}},{default:j(()=>[e[90]||(e[90]=t("div",{class:"flex items-center justify-between px-4 py-3.5"},[t("p",{class:"text-sm text-slate-400"},"App"),t("p",{class:"text-sm font-medium"},"Habitat")],-1)),t("div",Ta,[e[80]||(e[80]=t("p",{class:"text-sm text-slate-400"},"Version",-1)),t("p",Ma,A(a(o).public.appVersion||"—"),1)]),t("div",$a,[e[81]||(e[81]=t("p",{class:"text-sm text-slate-400"},"Commit",-1)),t("p",qa,A(a(o).public.commitSha||"—"),1)]),a(o).public.gitTag.length>0?(u(),f("div",Va,[e[82]||(e[82]=t("p",{class:"text-sm text-slate-400"},"Tag",-1)),c(we,{label:a(o).public.gitTag,variant:"subtle",color:"primary",size:"sm",class:"rounded-full font-mono"},null,8,["label"])])):O("",!0),t("div",Ha,[e[83]||(e[83]=t("p",{class:"text-sm text-slate-400"},"Build",-1)),c(we,{label:a(o).public.buildTarget,variant:"subtle",color:"neutral",size:"sm",class:"rounded-full font-mono"},null,8,["label"])]),t("div",Ea,[e[84]||(e[84]=t("p",{class:"text-sm text-slate-400"},"Built",-1)),t("p",Ba,A(a(o).public.buildTime?new Date(a(o).public.buildTime).toLocaleString():"—"),1)]),e[91]||(e[91]=t("div",{class:"flex items-center justify-between px-4 py-3.5"},[t("p",{class:"text-sm text-slate-400"},"Storage"),t("p",{class:"text-sm font-medium"},"On-device (OPFS)")],-1)),t("button",{class:"w-full flex items-center justify-between px-4 py-3.5 text-left",onClick:ls},[e[85]||(e[85]=t("p",{class:"text-sm text-slate-400"},"Open source licenses",-1)),c(S,{name:"i-heroicons-chevron-right",class:"w-4 h-4 text-slate-500 shrink-0"})]),t("div",null,[t("button",{class:"w-full flex items-center justify-between px-4 py-3.5 text-left",onClick:Jt},[e[86]||(e[86]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm text-slate-400"},"Database schema")],-1)),t("div",Na,[a(pe)?(u(),re(we,{key:0,label:`v${a(pe).userVersion}`,variant:"subtle",color:"neutral",size:"sm",class:"font-mono rounded-full"},null,8,["label"])):O("",!0),c(S,{name:a(He)?"i-heroicons-chevron-down":"i-heroicons-chevron-right",class:"w-4 h-4 text-slate-500"},null,8,["name"])])]),a(He)?(u(),f("div",Ra,[a(st)?(u(),f("div",Pa,[c(S,{name:"i-heroicons-arrow-path",class:"w-3.5 h-3.5 animate-spin"}),e[87]||(e[87]=h(" Loading… ",-1))])):a(pe)?(u(),f(N,{key:1},[t("div",Fa,[e[88]||(e[88]=t("span",{class:"text-xs text-slate-500"},"Schema version:",-1)),t("span",La,A(a(pe).userVersion),1)]),(u(!0),f(N,null,ie(a(pe).tables,i=>(u(),f("div",{key:i.name,class:"rounded-lg border border-slate-800 overflow-hidden"},[t("button",{class:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-slate-800/40 transition-colors",onClick:F=>be.value=a(be)===i.name?null:i.name},[t("span",Wa,A(i.name),1),c(S,{name:a(be)===i.name?"i-heroicons-chevron-down":"i-heroicons-chevron-right",class:"w-3.5 h-3.5 text-slate-600"},null,8,["name"])],8,Ja),a(be)===i.name?(u(),f("pre",Ga,A(i.sql),1)):O("",!0)]))),128)),a(pe).indices.length>0?(u(),f(N,{key:0},[e[89]||(e[89]=t("p",{class:"text-[10px] font-semibold uppercase tracking-wider text-slate-600 pt-1"},"Indices",-1)),(u(!0),f(N,null,ie(a(pe).indices,i=>(u(),f("div",{key:i.name,class:"rounded-lg border border-slate-800 overflow-hidden"},[t("button",{class:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-slate-800/40 transition-colors",onClick:F=>be.value=a(be)===i.name?null:i.name},[t("div",Ya,[t("span",Ka,A(i.name),1),t("span",Za,"on "+A(i.tbl_name),1)]),c(S,{name:a(be)===i.name?"i-heroicons-chevron-down":"i-heroicons-chevron-right",class:"w-3.5 h-3.5 text-slate-600 shrink-0"},null,8,["name"])],8,Qa),a(be)===i.name?(u(),f("pre",Xa,A(i.sql),1)):O("",!0)]))),128))],64)):O("",!0)],64)):O("",!0)])):O("",!0)])]),_:1})):O("",!0)]),t("section",en,[t("button",{class:"w-full flex items-center justify-between px-1 py-0.5",onClick:e[18]||(e[18]=i=>Ne.value=!a(Ne))},[e[92]||(e[92]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-slate-500"},"Diagnostics",-1)),c(S,{name:a(Ne)?"i-heroicons-chevron-up":"i-heroicons-chevron-down",class:"w-3.5 h-3.5 text-slate-600"},null,8,["name"])]),a(Ne)?(u(),re($,{key:0,ui:{root:"rounded-2xl",body:"p-0 sm:p-0 divide-y divide-slate-800"}},{default:j(()=>[t("div",tn,[t("div",sn,[e[94]||(e[94]=t("p",{class:"text-sm font-medium"},"Integrity check",-1)),e[95]||(e[95]=t("p",{class:"text-xs text-slate-500"},[h("Runs SQLite "),t("span",{class:"font-mono"},"PRAGMA integrity_check")],-1)),a(Ce)!==null?(u(),f("div",an,[a(Ft)?(u(),f("p",nn,[c(S,{name:"i-heroicons-check-circle",class:"w-3.5 h-3.5 shrink-0"}),e[93]||(e[93]=h(" ok ",-1))])):(u(),f("ul",ln,[(u(!0),f(N,null,ie(a(Ce),(i,F)=>(u(),f("li",{key:F,class:"text-xs text-red-400 font-mono break-all"},A(i),1))),128))]))])):O("",!0)]),c(I,{size:"sm",variant:"ghost",color:"neutral",loading:a(tt),disabled:!a(s).isAvailable,icon:"i-heroicons-shield-check",class:"shrink-0",onClick:Pt},null,8,["loading","disabled"])]),t("div",null,[t("button",{class:"w-full flex items-center justify-between px-4 py-3.5 text-left",onClick:Wt},[e[96]||(e[96]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"OPFS files"),t("p",{class:"text-xs text-slate-500"},"All files in the origin private file system")],-1)),t("div",on,[a(De).length>0?(u(),f("span",rn,A(a(De).length)+" file"+A(a(De).length!==1?"s":""),1)):O("",!0),c(S,{name:a(Ee)?"i-heroicons-chevron-down":"i-heroicons-chevron-right",class:"w-4 h-4 text-slate-500"},null,8,["name"])])]),a(Ee)?(u(),f("div",dn,[a(at)?(u(),f("div",cn,[c(S,{name:"i-heroicons-arrow-path",class:"w-3.5 h-3.5 animate-spin"}),e[97]||(e[97]=h(" Scanning… ",-1))])):a(De).length===0?(u(),f("div",un,"No files found.")):(u(),f("ul",pn,[(u(!0),f(N,null,ie(a(De),i=>(u(),f("li",{key:i.path,class:"flex items-center justify-between gap-4"},[t("span",fn,A(i.path),1),t("span",vn,A(nt(i.size)),1)]))),128))])),t("button",{class:"mt-3 text-xs text-slate-600 hover:text-slate-400 flex items-center gap-1 transition-colors",onClick:_t},[c(S,{name:"i-heroicons-arrow-path",class:"w-3 h-3"}),e[98]||(e[98]=h(" Refresh ",-1))])])):O("",!0)]),t("div",mn,[e[99]||(e[99]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Test notification"),t("p",{class:"text-xs text-slate-500"},"Fire a sample notification to verify delivery.")],-1)),c(I,{size:"sm",variant:"ghost",color:"neutral",icon:"i-heroicons-bell",disabled:a(Te)!=="granted",onClick:a(as)},null,8,["disabled","onClick"])]),t("div",xn,[t("div",gn,[e[100]||(e[100]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Storage"),t("p",{class:"text-xs text-slate-500"},"Browser quota and current usage.")],-1)),c(I,{size:"sm",variant:"ghost",color:"neutral",icon:"i-heroicons-arrow-path",onClick:Ct})]),a(Me)?(u(),f(N,{key:0},[t("div",yn,[t("div",bn,[t("span",null,A(nt(a(Me).usage??0))+" used",1),t("span",null,A(nt(a(Me).quota??0))+" quota",1)]),t("div",hn,[t("div",{class:"h-full rounded-full bg-primary-500 transition-all",style:ks({width:`${Math.min(100,(a(Me).usage??0)/(a(Me).quota??1)*100).toFixed(1)}%`})},null,4)])]),t("div",wn,[t("div",kn,[c(S,{name:a(he)?"i-heroicons-lock-closed":"i-heroicons-lock-open",class:_e(["w-3.5 h-3.5",a(he)?"text-green-400":"text-amber-400"])},null,8,["name","class"]),t("span",{class:_e(a(he)?"text-green-400":"text-amber-400")},A(a(he)===null?"Checking…":a(he)?"Persistent storage":"Storage not persisted"),3)]),a(he)===!1?(u(),re(I,{key:0,size:"xs",variant:"soft",color:"primary",onClick:os},{default:j(()=>[...e[101]||(e[101]=[h(" Request ",-1)])]),_:1})):O("",!0)])],64)):O("",!0)])]),_:1})):O("",!0)]),t("section",_n,[t("button",{class:"w-full flex items-center justify-between px-1 py-0.5",onClick:e[19]||(e[19]=i=>Ye.value=!a(Ye))},[e[102]||(e[102]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-red-900/70"},"🐉 Here be dragons",-1)),c(S,{name:a(Ye)?"i-heroicons-chevron-up":"i-heroicons-chevron-down",class:"w-3.5 h-3.5 text-red-900/50"},null,8,["name"])]),a(Ye)?(u(),re($,{key:0,ui:{root:"rounded-2xl ring-1 ring-red-900/30",body:"p-0 sm:p-0 divide-y divide-slate-800"}},{default:j(()=>[t("div",Cn,[e[103]||(e[103]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium"},"Force reload"),t("p",{class:"text-xs text-slate-500"},"Unregister service worker, clear JS/CSS caches, and reload. OPFS data is preserved.")],-1)),c(I,{size:"sm",variant:"ghost",color:"neutral",icon:"i-heroicons-arrow-path",loading:a(lt),class:"shrink-0",onClick:Gt},null,8,["loading"])]),t("div",Sn,[e[104]||(e[104]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium text-red-400"},"Clear app data"),t("p",{class:"text-xs text-slate-500"},"Selectively delete habits, check-ins, scribbles, or voice notes.")],-1)),c(I,{icon:"i-heroicons-trash",variant:"ghost",color:"error",size:"sm",disabled:!a(s).isAvailable,onClick:e[20]||(e[20]=i=>ye.value=!0)},null,8,["disabled"])]),t("div",In,[e[105]||(e[105]=t("div",{class:"space-y-0.5"},[t("p",{class:"text-sm font-medium text-red-400"},"Clear OPFS storage"),t("p",{class:"text-xs text-slate-500"},"Wipe all on-device file system storage including the database.")],-1)),c(I,{icon:"i-heroicons-fire",variant:"ghost",color:"error",size:"sm",disabled:!a(s).isAvailable,onClick:e[21]||(e[21]=i=>Ue.value=!0)},null,8,["disabled"])])]),_:1})):O("",!0)]),c(fe,{open:a(Be),"onUpdate:open":e[23]||(e[23]=i=>Se(Be)?Be.value=i:null)},{content:j(()=>[t("div",An,[t("div",jn,[e[106]||(e[106]=t("h3",{class:"font-semibold text-slate-100"},"Open source licenses",-1)),c(I,{icon:"i-heroicons-x-mark",variant:"ghost",color:"neutral",size:"xs",onClick:e[22]||(e[22]=i=>Be.value=!1)})]),a(it)?(u(),f("div",zn," Loading… ")):a(rt)?(u(),f("div",Un," Could not load licenses. Only available in production builds. ")):(u(),f("ul",Dn,[(u(!0),f(N,null,ie(a(ot),i=>(u(),f("li",{key:i.name,class:"py-2.5 flex items-baseline justify-between gap-3"},[t("div",On,[i.homepage?(u(),f("a",{key:0,href:i.homepage,target:"_blank",rel:"noopener noreferrer",class:"text-sm text-slate-200 hover:text-primary-400 transition-colors truncate block"},A(i.name),9,Tn)):(u(),f("span",Mn,A(i.name),1)),t("span",$n,"v"+A(i.version),1)]),c(we,{label:i.license??"Unknown",variant:"subtle",color:i.license==="MIT"?"primary":"neutral",size:"xs",class:"shrink-0 font-mono rounded-full"},null,8,["label","color"])]))),128))]))])]),_:1},8,["open"]),c(fe,{open:a(Oe),"onUpdate:open":e[26]||(e[26]=i=>Se(Oe)?Oe.value=i:null)},{content:j(()=>[t("div",qn,[t("div",Vn,[e[107]||(e[107]=t("h3",{class:"font-semibold text-slate-100"},"Install Habitat",-1)),c(I,{icon:"i-heroicons-x-mark",variant:"ghost",color:"neutral",size:"xs",onClick:e[24]||(e[24]=i=>Oe.value=!1)})]),a(Ge)?(u(),f("ol",Hn,[t("li",En,[e[112]||(e[112]=t("span",{class:"text-primary-400 font-semibold shrink-0"},"1.",-1)),t("span",null,[e[108]||(e[108]=h("Tap the ",-1)),e[109]||(e[109]=t("strong",{class:"text-slate-100"},"Share",-1)),e[110]||(e[110]=h(" button ",-1)),c(S,{name:"i-heroicons-arrow-up-on-square",class:"inline w-4 h-4 align-text-bottom text-slate-100"}),e[111]||(e[111]=h(" in the Safari toolbar",-1))])]),e[113]||(e[113]=t("li",{class:"flex items-start gap-3"},[t("span",{class:"text-primary-400 font-semibold shrink-0"},"2."),t("span",null,[h("Scroll down and tap "),t("strong",{class:"text-slate-100"},"Add to Home Screen")])],-1)),e[114]||(e[114]=t("li",{class:"flex items-start gap-3"},[t("span",{class:"text-primary-400 font-semibold shrink-0"},"3."),t("span",null,[h("Tap "),t("strong",{class:"text-slate-100"},"Add"),h(" to confirm")])],-1))])):a(Kt)?(u(),f(N,{key:1},[e[115]||(e[115]=t("p",{class:"text-sm text-slate-400"},"Chrome hasn't offered an install prompt yet — use the browser menu instead:",-1)),e[116]||(e[116]=t("ol",{class:"space-y-3 text-sm text-slate-300"},[t("li",{class:"flex items-start gap-3"},[t("span",{class:"text-primary-400 font-semibold shrink-0"},"1."),t("span",null,[h("Tap the "),t("strong",{class:"text-slate-100"},"⋮ menu"),h(" in the top-right corner of Chrome")])]),t("li",{class:"flex items-start gap-3"},[t("span",{class:"text-primary-400 font-semibold shrink-0"},"2."),t("span",null,[h("Choose "),t("strong",{class:"text-slate-100"},"Install app"),h(" or "),t("strong",{class:"text-slate-100"},"Add to Home Screen")])])],-1))],64)):(u(),f(N,{key:2},[e[117]||(e[117]=t("p",{class:"text-sm text-slate-400"},[h(" Your current browser doesn't support PWA installation. Open Habitat in "),t("strong",{class:"text-slate-100"},"Chrome"),h(", "),t("strong",{class:"text-slate-100"},"Edge"),h(", "),t("strong",{class:"text-slate-100"},"Brave"),h(", or "),t("strong",{class:"text-slate-100"},"Opera"),h(" to install it as a standalone app. ")],-1)),e[118]||(e[118]=t("p",{class:"text-xs text-slate-500"}," These browsers also provide OPFS storage and background notifications. ",-1))],64)),t("div",Bn,[c(I,{variant:"ghost",color:"neutral",onClick:e[25]||(e[25]=i=>Oe.value=!1)},{default:j(()=>[...e[119]||(e[119]=[h("Close",-1)])]),_:1})])])]),_:1},8,["open"]),c(fe,{open:a(y),"onUpdate:open":e[29]||(e[29]=i=>Se(y)?y.value=i:null)},{content:j(()=>[t("div",Nn,[t("div",Rn,[e[120]||(e[120]=t("h3",{class:"font-semibold text-slate-100"},"Export data",-1)),c(I,{icon:"i-heroicons-x-mark",variant:"ghost",color:"neutral",size:"xs",onClick:e[27]||(e[27]=i=>y.value=!1)})]),t("label",Pn,[t("input",{type:"checkbox",class:"accent-primary-500",checked:a(z),indeterminate:!a(z)&&!a(T),onChange:E},null,40,Fn),e[121]||(e[121]=t("span",{class:"text-sm text-slate-300 font-medium"},"Select all",-1))]),t("div",Ln,[(u(),f(N,null,ie(d,i=>t("div",{key:i.label,class:"space-y-1.5"},[t("p",Jn,A(i.label),1),t("div",Wn,[(u(!0),f(N,null,ie(i.items,F=>(u(),f("label",{key:F.key,class:"flex items-center gap-3 px-3.5 py-2.5 cursor-pointer hover:bg-slate-800/40 transition-colors"},[Ke(t("input",{"onUpdate:modelValue":$e=>a(w)[F.key]=$e,type:"checkbox",class:"accent-primary-500 shrink-0"},null,8,Gn),[[Ze,a(w)[F.key]]]),t("span",Qn,A(F.label),1)]))),128))])])),64))]),a(p).length>0?(u(),f("ul",Yn,[(u(!0),f(N,null,ie(a(p),i=>(u(),f("li",{key:i,class:"text-xs text-red-400 flex items-center gap-1.5"},[c(S,{name:"i-heroicons-exclamation-circle",class:"w-3.5 h-3.5 shrink-0"}),h(" "+A(i),1)]))),128))])):O("",!0),t("div",Kn,[c(I,{variant:"ghost",color:"neutral",size:"sm",onClick:e[28]||(e[28]=i=>y.value=!1)},{default:j(()=>[...e[122]||(e[122]=[h("Cancel",-1)])]),_:1}),c(I,{size:"sm",icon:"i-heroicons-arrow-down-tray",loading:a(x),disabled:a(T),onClick:ae},{default:j(()=>[...e[123]||(e[123]=[h(" Download ",-1)])]),_:1},8,["loading","disabled"])])])]),_:1},8,["open"]),c(fe,{open:a(M),"onUpdate:open":e[33]||(e[33]=i=>Se(M)?M.value=i:null)},{content:j(()=>[a(_)?(u(),f("div",Zn,[t("div",Xn,[t("div",el,[c(S,{name:"i-heroicons-exclamation-circle",class:"w-5 h-5 text-red-400"})]),t("div",tl,[e[124]||(e[124]=t("p",{class:"font-semibold"},"Cannot import",-1)),t("p",sl,A(a(_)),1)])]),t("div",al,[c(I,{variant:"ghost",color:"neutral",onClick:e[30]||(e[30]=i=>M.value=!1)},{default:j(()=>[...e[125]||(e[125]=[h("Close",-1)])]),_:1})])])):a(C)?(u(),f("div",nl,[t("div",ll,[t("div",ol,[c(S,{name:"i-heroicons-check-circle",class:"w-5 h-5 text-green-400"})]),e[126]||(e[126]=t("div",{class:"space-y-1"},[t("p",{class:"font-semibold"},"Import complete"),t("p",{class:"text-sm text-slate-400"},"Records merged. Reload to see all updates.")],-1))]),t("div",il,[c(I,{onClick:e[31]||(e[31]=()=>{M.value=!1,K()})},{default:j(()=>[...e[127]||(e[127]=[h("Reload",-1)])]),_:1})])])):a(U)?(u(),f("div",rl,[t("div",dl,[t("div",cl,[c(S,{name:"i-heroicons-arrow-up-tray",class:"w-5 h-5 text-primary-400"})]),e[128]||(e[128]=t("div",{class:"space-y-1"},[t("p",{class:"font-semibold"},"Import data?"),t("p",{class:"text-sm text-slate-400"},"New records will be added; existing IDs are skipped.")],-1))]),t("div",ul,[t("p",pl," Version "+A(a(U).version)+" export from "+A(new Date(a(U).exported_at).toLocaleDateString()),1),(u(),f(N,null,ie(d,i=>(u(),f(N,{key:i.label},[(u(!0),f(N,null,ie(i.items,F=>(u(),f(N,{key:F.key},[(a(U)[F.key]??[]).length>0?(u(),f("div",fl,[t("span",vl,A(F.label),1),t("span",ml,A((a(U)[F.key]??[]).length),1)])):O("",!0)],64))),128))],64))),64))]),t("div",xl,[c(I,{variant:"ghost",color:"neutral",onClick:e[32]||(e[32]=i=>M.value=!1)},{default:j(()=>[...e[129]||(e[129]=[h("Cancel",-1)])]),_:1}),c(I,{loading:a(L),onClick:xe},{default:j(()=>[...e[130]||(e[130]=[h("Import",-1)])]),_:1},8,["loading"])])])):O("",!0)]),_:1},8,["open"]),c(fe,{open:a(ye),"onUpdate:open":e[35]||(e[35]=i=>Se(ye)?ye.value=i:null)},{content:j(()=>[t("div",gl,[t("div",yl,[t("div",bl,[c(S,{name:"i-heroicons-exclamation-triangle",class:"w-5 h-5 text-red-400"})]),e[131]||(e[131]=t("div",{class:"space-y-1"},[t("p",{class:"font-semibold"},"Clear app data?"),t("p",{class:"text-sm text-slate-400"},"Select what to delete. This cannot be undone.")],-1))]),t("div",hl,[(u(),f(N,null,ie(Je,i=>t("label",{key:i.key,class:"flex items-start gap-3 px-3.5 py-3 cursor-pointer hover:bg-slate-800/40 transition-colors"},[Ke(t("input",{"onUpdate:modelValue":F=>a(H)[i.key]=F,type:"checkbox",class:"mt-0.5 accent-red-500 shrink-0"},null,8,wl),[[Ze,a(H)[i.key]]]),t("div",kl,[t("p",_l,A(i.label),1),t("p",Cl,A(i.description),1)])])),64))]),t("div",Sl,[c(I,{variant:"ghost",color:"neutral",onClick:e[34]||(e[34]=i=>ye.value=!1)},{default:j(()=>[...e[132]||(e[132]=[h("Cancel",-1)])]),_:1}),c(I,{color:"error",loading:a(je),disabled:a(ze),onClick:Ve},{default:j(()=>[...e[133]||(e[133]=[h(" Delete selected ",-1)])]),_:1},8,["loading","disabled"])])])]),_:1},8,["open"]),c(fe,{open:a(Ue),"onUpdate:open":e[39]||(e[39]=i=>Se(Ue)?Ue.value=i:null)},{content:j(()=>[a(Ae)?(u(),f("div",Il,[t("div",Al,[t("div",jl,[c(S,{name:"i-heroicons-check-circle",class:"w-5 h-5 text-green-400"})]),e[134]||(e[134]=t("div",{class:"space-y-1"},[t("p",{class:"font-semibold"},"All data wiped"),t("p",{class:"text-sm text-slate-400"},"Storage has been cleared. You can safely close this tab.")],-1))])])):(u(),f("div",zl,[t("div",Ul,[t("div",Dl,[c(S,{name:"i-heroicons-fire",class:"w-5 h-5 text-red-400"})]),e[135]||(e[135]=t("div",{class:"space-y-1"},[t("p",{class:"font-semibold"},"Wipe OPFS storage?"),t("p",{class:"text-sm text-slate-400"}," Removes every file in the browser's origin private file system — including the SQLite database. Voice recordings and check-in entries will also be cleared. ")],-1))]),t("div",Ol,[c(I,{variant:"ghost",color:"neutral",onClick:e[36]||(e[36]=i=>Ue.value=!1)},{default:j(()=>[...e[136]||(e[136]=[h("Cancel",-1)])]),_:1}),c(I,{color:"error",variant:"ghost",loading:a(We),onClick:e[37]||(e[37]=i=>wt(!1))},{default:j(()=>[...e[137]||(e[137]=[h("Wipe only",-1)])]),_:1},8,["loading"]),c(I,{color:"error",loading:a(We),onClick:e[38]||(e[38]=i=>wt(!0))},{default:j(()=>[...e[138]||(e[138]=[h("Wipe & reload",-1)])]),_:1},8,["loading"])])]))]),_:1},8,["open"]),c(fe,{open:a(oe),"onUpdate:open":e[44]||(e[44]=i=>Se(oe)?oe.value=i:null)},{content:j(()=>[t("div",Tl,[e[145]||(e[145]=t("div",null,[t("h3",{class:"text-lg font-semibold"},"Set up Health Tracking"),t("p",{class:"text-sm text-slate-400 mt-0.5"},"Choose what you'd like to track. Habits are created in your habit list.")],-1)),t("div",Ml,[t("label",$l,[Ke(t("input",{"onUpdate:modelValue":e[40]||(e[40]=i=>a(D).enableSteps=i),type:"checkbox",class:"rounded"},null,512),[[Ze,a(D).enableSteps]]),e[139]||(e[139]=t("div",null,[t("p",{class:"text-sm font-medium"},"Track Steps"),t("p",{class:"text-xs text-slate-500"},"Creates a daily NUMERIC habit with your step goal.")],-1))]),a(D).enableSteps?(u(),f("div",ql,[c(is,{label:"Daily step goal"},{default:j(()=>[c(dt,{modelValue:a(D).stepGoal,"onUpdate:modelValue":e[41]||(e[41]=i=>a(D).stepGoal=i),modelModifiers:{number:!0},type:"number",min:"1000",step:"500",class:"w-40"},null,8,["modelValue"])]),_:1})])):O("",!0)]),t("div",Vl,[t("label",Hl,[Ke(t("input",{"onUpdate:modelValue":e[42]||(e[42]=i=>a(D).enableMeals=i),type:"checkbox",class:"rounded"},null,512),[[Ze,a(D).enableMeals]]),e[140]||(e[140]=t("div",null,[t("p",{class:"text-sm font-medium"},"Track Meals"),t("p",{class:"text-xs text-slate-500"},"Creates LIMIT habits for calorie tracking per meal.")],-1))]),a(D).enableMeals?(u(),f("div",El,[(u(!0),f(N,null,ie(a(D).meals,(i,F)=>(u(),f("div",{key:F,class:"flex items-center gap-2"},[c(dt,{modelValue:i.name,"onUpdate:modelValue":$e=>i.name=$e,placeholder:"Meal name",class:"flex-1"},null,8,["modelValue","onUpdate:modelValue"]),c(dt,{modelValue:i.calories,"onUpdate:modelValue":$e=>i.calories=$e,modelModifiers:{number:!0},type:"number",min:"0",step:"50",class:"w-24"},null,8,["modelValue","onUpdate:modelValue"]),e[141]||(e[141]=t("span",{class:"text-xs text-slate-500 shrink-0"},"kcal",-1)),t("button",{class:"text-slate-700 hover:text-red-400 transition-colors shrink-0",onClick:$e=>ge(F)},[c(S,{name:"i-heroicons-x-mark",class:"w-4 h-4"})],8,Bl)]))),128)),t("button",{class:"text-xs text-slate-500 hover:text-slate-400 flex items-center gap-1 mt-1",onClick:P},[c(S,{name:"i-heroicons-plus",class:"w-3 h-3"}),e[142]||(e[142]=h(" Add meal ",-1))])])):O("",!0)]),t("div",Nl,[c(I,{variant:"ghost",color:"neutral",onClick:e[43]||(e[43]=i=>oe.value=!1)},{default:j(()=>[...e[143]||(e[143]=[h("Skip",-1)])]),_:1}),c(I,{color:"primary",disabled:!a(D).enableSteps&&!a(D).enableMeals,loading:a(ce),onClick:qe},{default:j(()=>[...e[144]||(e[144]=[h(" Create Habits ",-1)])]),_:1},8,["disabled","loading"])])])]),_:1},8,["open"])])}}});export{Ql as default};
