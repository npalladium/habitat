import{e as S,g as j,o as l,c as o,a as n,b as p,w as f,d as u,j as E,F as C,r as T,n as B,i as e,t as v,k as w,l as L,p as c,m as D,T as U,_ as q,A as P,y,x as _}from"./D__IzthQ.js";import{_ as G}from"./DlAUqK2U.js";const H={class:"max-w-lg mx-auto space-y-6"},J={class:"flex items-center justify-between"},K={class:"flex gap-2 flex-wrap"},Q=["onClick"],W={key:0,class:"flex gap-2 flex-wrap"},X=["onClick"],Y={class:"flex flex-col items-center gap-5 py-4"},Z={class:"ball-window"},ee={key:0,class:"result-content"},te={key:1,class:"idle-question"},se={class:"text-sm text-slate-500 text-center"},le={key:0,class:"bg-slate-900 border border-slate-800 rounded-2xl p-5 space-y-4"},oe={class:"space-y-2"},ae={class:"text-lg font-semibold leading-snug"},ne={class:"flex flex-wrap gap-2"},ie={key:1,class:"flex items-center gap-1 text-xs px-2 py-0.5 rounded-full bg-slate-800 text-slate-300"},re={key:2,class:"text-xs px-2 py-0.5 rounded-full bg-blue-900/40 text-blue-300"},ue={key:0,class:"text-sm text-slate-400"},ce={key:1,class:"flex flex-wrap gap-1.5"},de={class:"flex gap-2 pt-1"},ve={key:1,class:"text-center py-4"},me={key:0,class:"text-slate-500 text-sm"},pe=S({__name:"index",setup(fe){const g=P(),b=y([]),t=y(null),m=y(!1),d=y([]),k=y(null);j(async()=>{b.value=await g.getBoredCategories()});const $=[{label:"Any",value:null},{label:"< 15m",value:15},{label:"< 30m",value:30},{label:"< 1h",value:60}];function A(r){d.value.includes(r)?d.value=d.value.filter(s=>s!==r):d.value=[...d.value,r]}async function z(){m.value||(m.value=!0,await new Promise(r=>setTimeout(r,650)),t.value=await g.getBoredOracle([...d.value],k.value),m.value=!1)}async function M(){t.value&&(t.value.source==="activity"?await g.markBoredActivityDone(t.value.activity.id):await g.toggleTodo(t.value.todo.id),t.value=await g.getBoredOracle([...d.value],k.value))}const F=_(()=>t.value?t.value.source==="activity"?t.value.activity.title:t.value.todo.title:""),N=_(()=>t.value?t.value.source==="activity"?t.value.activity.description:t.value.todo.description:""),O=_(()=>{if(!t.value)return null;const r=t.value.source==="activity"?t.value.activity.estimated_minutes:t.value.todo.estimated_minutes;return r?r<60?`${r}m`:`${Math.round(r/60*10)/10}h`:null}),i=_(()=>t.value?t.value.category:null),V=_(()=>t.value?t.value.source==="activity"?t.value.activity.tags:t.value.todo.tags:[]);return(r,s)=>{const x=E,h=L,I=q;return l(),o("div",H,[n("div",J,[s[1]||(s[1]=n("h1",{class:"text-2xl font-bold"},"I'm Bored",-1)),p(x,{to:"/bored/activities",variant:"ghost",color:"neutral",size:"sm",icon:"i-heroicons-cog-6-tooth"},{default:f(()=>[...s[0]||(s[0]=[u(" Manage ",-1)])]),_:1})]),n("div",K,[(l(),o(C,null,T($,a=>n("button",{key:String(a.value),class:B(["px-3 py-1 rounded-full text-sm font-medium transition-colors",e(k)===a.value?"bg-primary-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"]),onClick:R=>k.value=a.value},v(a.label),11,Q)),64))]),e(b).length?(l(),o("div",W,[(l(!0),o(C,null,T(e(b),a=>(l(),o("button",{key:a.id,class:B(["flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium transition-colors border",e(d).includes(a.id)?"border-slate-700 text-slate-500 bg-slate-900":"border-transparent text-white"]),style:w(e(d).includes(a.id)?{}:{backgroundColor:a.color+"33",borderColor:a.color+"88",color:a.color}),onClick:R=>A(a.id)},[p(h,{name:a.icon,class:"w-3.5 h-3.5"},null,8,["name"]),u(" "+v(a.name),1)],14,X))),128))])):c("",!0),n("div",Y,[n("button",{class:B(["ball select-none outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-4 focus-visible:ring-offset-slate-950",{"ball-shake":e(m)}]),"aria-label":"Roll the oracle",onClick:z},[s[2]||(s[2]=n("div",{class:"ball-glow"},null,-1)),s[3]||(s[3]=n("div",{class:"ball-specular"},null,-1)),s[4]||(s[4]=n("div",{class:"ball-rim"},null,-1)),n("div",Z,[e(t)&&!e(m)?(l(),o("div",ee,[e(i)?(l(),D(h,{key:0,name:e(i).icon,class:"w-8 h-8 shrink-0",style:w({color:e(i).color})},null,8,["name","style"])):c("",!0),e(i)?(l(),o("span",{key:1,class:"text-[10px] font-semibold tracking-wide text-center leading-tight px-1.5",style:w({color:e(i).color})},v(e(i).name),5)):c("",!0)])):(l(),o("span",te,"?"))])],2),n("p",se,v(e(m)?"Consulting the oracleâ€¦":e(t)?"Tap to roll again":"Tap to get a suggestion"),1)]),p(U,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0"},{default:f(()=>[e(t)&&!e(m)?(l(),o("div",le,[n("div",oe,[n("h2",ae,v(e(F)),1),n("div",ne,[e(i)?(l(),o("span",{key:0,class:"flex items-center gap-1 text-xs px-2 py-0.5 rounded-full font-medium",style:w({backgroundColor:e(i).color+"22",color:e(i).color})},[p(h,{name:e(i).icon,class:"w-3 h-3"},null,8,["name"]),u(" "+v(e(i).name),1)],4)):c("",!0),e(O)?(l(),o("span",ie,[p(h,{name:"i-heroicons-clock",class:"w-3 h-3"}),u(" "+v(e(O)),1)])):c("",!0),e(t).source==="todo"?(l(),o("span",re," from TODOs ")):c("",!0)])]),e(N)?(l(),o("p",ue,v(e(N)),1)):c("",!0),e(V).length?(l(),o("div",ce,[(l(!0),o(C,null,T(e(V),a=>(l(),o("span",{key:a,class:"text-xs px-2 py-0.5 rounded-full bg-slate-800 text-slate-400"},v(a),1))),128))])):c("",!0),n("div",de,[p(x,{variant:"soft",color:"success",size:"sm",icon:"i-heroicons-check",onClick:M},{default:f(()=>[...s[5]||(s[5]=[u(" Done ",-1)])]),_:1}),p(x,{variant:"soft",color:"neutral",size:"sm",icon:"i-heroicons-arrow-path",onClick:z},{default:f(()=>[...s[6]||(s[6]=[u(" Roll again ",-1)])]),_:1}),e(t).source==="todo"?(l(),D(x,{key:0,to:"/todos",variant:"ghost",color:"neutral",size:"sm",icon:"i-heroicons-arrow-right"},{default:f(()=>[...s[7]||(s[7]=[u(" View TODO ",-1)])]),_:1})):(l(),D(x,{key:1,to:"/bored/activities",variant:"ghost",color:"neutral",size:"sm",icon:"i-heroicons-arrow-right"},{default:f(()=>[...s[8]||(s[8]=[u(" View all ",-1)])]),_:1}))])])):c("",!0)]),_:1}),e(t)===null&&!e(m)?(l(),o("div",ve,[e(b).length===0?(l(),o("p",me,[s[10]||(s[10]=u(" No activities yet. ",-1)),p(I,{to:"/bored/activities",class:"text-primary-400 underline"},{default:f(()=>[...s[9]||(s[9]=[u("Add some",-1)])]),_:1}),s[11]||(s[11]=u(" to get started. ",-1))])):c("",!0)])):c("",!0)])}}}),ye=G(pe,[["__scopeId","data-v-32113ead"]]);export{ye as default};
