import{e as R,g as S,o,c as l,a as n,b as p,w as x,d as u,j as E,F as w,r as T,n as B,i as e,t as v,k as C,l as L,p as c,m as D,T as U,_ as P,A as q,y,x as _}from"./xAnKZML8.js";import{_ as G}from"./DlAUqK2U.js";const H={class:"max-w-lg mx-auto space-y-6"},J={class:"flex items-center justify-between"},K={class:"flex gap-2 flex-wrap"},Q=["onClick"],W={key:0,class:"flex gap-2 flex-wrap"},X=["onClick"],Y={class:"flex flex-col items-center gap-6 py-4"},Z={class:"absolute inset-8 rounded-full flex flex-col items-center justify-center gap-1",style:{background:"radial-gradient(circle at 40% 40%, #1e1b4b, #030712)"}},ee={key:1,class:"text-4xl font-bold text-slate-400 select-none"},te={class:"text-sm text-slate-500 text-center"},se={key:0,class:"bg-slate-900 border border-slate-800 rounded-2xl p-5 space-y-4"},oe={class:"space-y-2"},le={class:"text-lg font-semibold leading-snug"},ae={class:"flex flex-wrap gap-2"},ne={key:1,class:"flex items-center gap-1 text-xs px-2 py-0.5 rounded-full bg-slate-800 text-slate-300"},re={key:2,class:"text-xs px-2 py-0.5 rounded-full bg-blue-900/40 text-blue-300"},ie={key:0,class:"text-sm text-slate-400"},ue={key:1,class:"flex flex-wrap gap-1.5"},ce={class:"flex gap-2 pt-1"},de={key:1,class:"text-center py-4"},ve={key:0,class:"text-slate-500 text-sm"},me=R({__name:"index",setup(pe){const f=q(),b=y([]),t=y(null),m=y(!1),d=y([]),k=y(null);S(async()=>{b.value=await f.getBoredCategories()});const $=[{label:"Any",value:null},{label:"< 15m",value:15},{label:"< 30m",value:30},{label:"< 1h",value:60}];function A(i){d.value.includes(i)?d.value=d.value.filter(s=>s!==i):d.value=[...d.value,i]}async function z(){m.value||(m.value=!0,await new Promise(i=>setTimeout(i,400)),t.value=await f.getBoredOracle([...d.value],k.value),m.value=!1)}async function M(){t.value&&(t.value.source==="activity"?await f.markBoredActivityDone(t.value.activity.id):await f.toggleTodo(t.value.todo.id),t.value=await f.getBoredOracle([...d.value],k.value))}const j=_(()=>t.value?t.value.source==="activity"?t.value.activity.title:t.value.todo.title:""),N=_(()=>t.value?t.value.source==="activity"?t.value.activity.description:t.value.todo.description:""),O=_(()=>{if(!t.value)return null;const i=t.value.source==="activity"?t.value.activity.estimated_minutes:t.value.todo.estimated_minutes;return i?i<60?`${i}m`:`${Math.round(i/60*10)/10}h`:null}),r=_(()=>t.value?t.value.category:null),V=_(()=>t.value?t.value.source==="activity"?t.value.activity.tags:t.value.todo.tags:[]);return(i,s)=>{const g=E,h=L,F=P;return o(),l("div",H,[n("div",J,[s[1]||(s[1]=n("h1",{class:"text-2xl font-bold"},"I'm Bored",-1)),p(g,{to:"/bored/activities",variant:"ghost",color:"neutral",size:"sm",icon:"i-heroicons-cog-6-tooth"},{default:x(()=>[...s[0]||(s[0]=[u(" Manage ",-1)])]),_:1})]),n("div",K,[(o(),l(w,null,T($,a=>n("button",{key:String(a.value),class:B(["px-3 py-1 rounded-full text-sm font-medium transition-colors",e(k)===a.value?"bg-primary-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"]),onClick:I=>k.value=a.value},v(a.label),11,Q)),64))]),e(b).length?(o(),l("div",W,[(o(!0),l(w,null,T(e(b),a=>(o(),l("button",{key:a.id,class:B(["flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium transition-colors border",e(d).includes(a.id)?"border-slate-700 text-slate-500 bg-slate-900":"border-transparent text-white"]),style:C(e(d).includes(a.id)?{}:{backgroundColor:a.color+"33",borderColor:a.color+"88",color:a.color}),onClick:I=>A(a.id)},[p(h,{name:a.icon,class:"w-3.5 h-3.5"},null,8,["name"]),u(" "+v(a.name),1)],14,X))),128))])):c("",!0),n("div",Y,[n("button",{class:B(["w-48 h-48 rounded-full relative cursor-pointer select-none outline-none focus-visible:ring-2 focus-visible:ring-primary-500",e(m)?"animate-shake":""]),style:{background:"radial-gradient(circle at 35% 35%, #334155, #020617)"},"aria-label":"Roll the oracle",onClick:z},[s[2]||(s[2]=n("div",{class:"absolute inset-0 rounded-full",style:{background:"radial-gradient(circle at 35% 30%, rgba(255,255,255,0.12) 0%, transparent 65%)"}},null,-1)),n("div",Z,[e(t)&&!e(m)?(o(),l(w,{key:0},[e(r)?(o(),D(h,{key:0,name:e(r).icon,class:"w-7 h-7",style:C({color:e(r).color})},null,8,["name","style"])):c("",!0),e(r)?(o(),l("span",{key:1,class:"text-xs font-medium text-center leading-tight px-2",style:C({color:e(r).color})},v(e(r).name),5)):c("",!0)],64)):(o(),l("span",ee,"?"))])],2),n("p",te,v(e(m)?"Consulting the oracleâ€¦":e(t)?"Tap to roll again":"Tap to get a suggestion"),1)]),p(U,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0"},{default:x(()=>[e(t)&&!e(m)?(o(),l("div",se,[n("div",oe,[n("h2",le,v(e(j)),1),n("div",ae,[e(r)?(o(),l("span",{key:0,class:"flex items-center gap-1 text-xs px-2 py-0.5 rounded-full font-medium",style:C({backgroundColor:e(r).color+"22",color:e(r).color})},[p(h,{name:e(r).icon,class:"w-3 h-3"},null,8,["name"]),u(" "+v(e(r).name),1)],4)):c("",!0),e(O)?(o(),l("span",ne,[p(h,{name:"i-heroicons-clock",class:"w-3 h-3"}),u(" "+v(e(O)),1)])):c("",!0),e(t).source==="todo"?(o(),l("span",re," from TODOs ")):c("",!0)])]),e(N)?(o(),l("p",ie,v(e(N)),1)):c("",!0),e(V).length?(o(),l("div",ue,[(o(!0),l(w,null,T(e(V),a=>(o(),l("span",{key:a,class:"text-xs px-2 py-0.5 rounded-full bg-slate-800 text-slate-400"},v(a),1))),128))])):c("",!0),n("div",ce,[p(g,{variant:"soft",color:"success",size:"sm",icon:"i-heroicons-check",onClick:M},{default:x(()=>[...s[3]||(s[3]=[u(" Done ",-1)])]),_:1}),p(g,{variant:"soft",color:"neutral",size:"sm",icon:"i-heroicons-arrow-path",onClick:z},{default:x(()=>[...s[4]||(s[4]=[u(" Roll again ",-1)])]),_:1}),e(t).source==="todo"?(o(),D(g,{key:0,to:"/todos",variant:"ghost",color:"neutral",size:"sm",icon:"i-heroicons-arrow-right"},{default:x(()=>[...s[5]||(s[5]=[u(" View TODO ",-1)])]),_:1})):(o(),D(g,{key:1,to:"/bored/activities",variant:"ghost",color:"neutral",size:"sm",icon:"i-heroicons-arrow-right"},{default:x(()=>[...s[6]||(s[6]=[u(" View all ",-1)])]),_:1}))])])):c("",!0)]),_:1}),e(t)===null&&!e(m)?(o(),l("div",de,[e(b).length===0?(o(),l("p",ve,[s[8]||(s[8]=u(" No activities yet. ",-1)),p(F,{to:"/bored/activities",class:"text-primary-400 underline"},{default:x(()=>[...s[7]||(s[7]=[u("Add some",-1)])]),_:1}),s[9]||(s[9]=u(" to get started. ",-1))])):c("",!0)])):c("",!0)])}}}),ge=G(me,[["__scopeId","data-v-1bfcbb9c"]]);export{ge as default};
