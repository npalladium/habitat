import{aR as _,aH as S,a0 as j,a1 as A,aS as I,o as s,p,w as q,b as f,m as v,j as e,n as g,O as M,k as C,y as w,e as N,H as $,aT as T,c as k,a as d,i as V,q as x,U as z,l as E,F as H,r as L,d as P,t as U}from"./B4ebfuTa.js";import{_ as D}from"./BuWmrV8K.js";import{u as F}from"./D3ohnzwY.js";const O=()=>_("color-mode").value,W=Object.assign({inheritAttrs:!1},{__name:"UColorModeButton",props:{color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"ghost"},label:{type:String,required:!1},activeColor:{type:null,required:!1},activeVariant:{type:null,required:!1},size:{type:null,required:!1},square:{type:Boolean,required:!1},block:{type:Boolean,required:!1},loadingAuto:{type:Boolean,required:!1},onClick:{type:[Function,Array],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1},as:{type:null,required:!1},type:{type:null,required:!1},disabled:{type:Boolean,required:!1},exactActiveClass:{type:String,required:!1},viewTransition:{type:Boolean,required:!1}},setup(b){const r=b,{t:i}=S(),c=O(),o=j(),h=A(I(r,"icon")),u=w({get(){return c.value==="dark"},set(n){c.preference=n?"dark":"light"}});return(n,t)=>(s(),p(C,M({...e(h),"aria-label":u.value?e(i)("colorMode.switchToLight"):e(i)("colorMode.switchToDark"),...n.$attrs},{onClick:t[0]||(t[0]=a=>u.value=!u.value)}),{leading:q(({ui:a})=>[f(v,{class:g(a.leadingIcon({class:[r.ui?.leadingIcon,"hidden dark:inline-block"]})),name:e(o).ui.icons.dark},null,8,["class","name"]),f(v,{class:g(a.leadingIcon({class:[r.ui?.leadingIcon,"dark:hidden"]})),name:e(o).ui.icons.light},null,8,["class","name"])]),_:1},16))}}),R={class:"min-h-screen bg-slate-950 text-slate-100 flex flex-col"},J={class:"border-b border-slate-800 px-4 py-3 flex items-center justify-between"},Y={class:"flex items-center gap-1"},X=N({__name:"default",setup(b){const r=$(),{$dbError:i}=T(),c=_("eviction-detected",()=>!1),{settings:o}=F(),h=[{to:"/",icon:"i-heroicons-home",label:"Today",today:!0},{to:"/week",icon:"i-heroicons-calendar-days",label:"Week",week:!0},{to:"/habits",icon:"i-heroicons-list-bullet",label:"Habits"},{to:"/health",icon:"i-heroicons-heart",label:"Health",health:!0},{to:"/checkin",icon:"i-heroicons-pencil-square",label:"Check-in",journalling:!0},{to:"/scribbles",icon:"i-heroicons-pencil",label:"Scribbles",journalling:!0},{to:"/voice",icon:"i-heroicons-microphone",label:"Voice",journalling:!0},{to:"/stats",icon:"i-heroicons-chart-bar",label:"Stats"}],u=w(()=>h.filter(t=>!(t.today&&!o.value.enableToday||t.week&&!o.value.enableWeek||t.health&&!o.value.enableHealth||t.journalling&&!o.value.enableJournalling)));function n(t){return t==="/"?r.path==="/":r.path.startsWith(t)}return(t,a)=>{const m=C,B=W,y=D;return s(),k("div",R,[d("header",J,[a[1]||(a[1]=V('<div class="flex items-center gap-2"><svg class="plant-logo w-6 h-[1.625rem]" viewBox="0 0 40 44" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M 8,40 C 12,37 28,37 32,40" stroke="currentColor" stroke-width="3" fill="none" stroke-linecap="round"></path><line x1="20" y1="40" x2="20" y2="24" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"></line><path d="M 20,24 C 11,23 4,29 8,34 C 11,37 19,30 20,24" stroke="currentColor" stroke-width="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path><path d="M 20,24 C 26,20 32,14 30,8 C 28,5 20,13 20,24" stroke="currentColor" stroke-width="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="text-lg font-semibold tracking-tight">Habitat</span></div>',1)),d("div",Y,[f(m,{to:"/settings",icon:"i-heroicons-cog-6-tooth",variant:"ghost",color:"neutral",size:"sm",class:g(n("/settings")?"text-primary-400":"")},null,8,["class"]),f(B)])]),e(i)?(s(),p(y,{key:0,description:e(i),color:"error",variant:"soft",icon:"i-heroicons-exclamation-triangle",class:"rounded-none border-0 border-b border-red-900/50"},null,8,["description"])):x("",!0),e(c)?(s(),p(y,{key:1,title:"Storage may have been cleared",description:"Your browser appears to have cleared on-device storage. If data is missing, use Export in Settings regularly to back up.",color:"warning",variant:"soft",icon:"i-heroicons-exclamation-triangle","close-button":{icon:"i-heroicons-x-mark",variant:"ghost",color:"neutral",size:"sm"},class:"rounded-none border-0 border-b border-amber-900/50",onClose:a[0]||(a[0]=l=>c.value=!1)})):x("",!0),d("main",{class:"flex-1 p-4 pb-2",style:E(e(o).stickyNav?{paddingBottom:e(o).navExtraPadding?"80px":"60px"}:{})},[z(t.$slots,"default")],4),d("nav",{class:g(["border-t border-slate-800 px-1 py-1 flex justify-around",[e(o).stickyNav?"fixed bottom-0 inset-x-0 z-30 bg-slate-950":"safe-area-bottom",e(o).navExtraPadding?"pb-5":""]])},[(s(!0),k(H,null,L(e(u),l=>(s(),p(m,{key:l.to,to:l.to,icon:l.icon,color:n(l.to)?"primary":"neutral",variant:"ghost",ui:{base:"flex-col gap-0.5 h-auto py-2 px-3 text-xs"}},{default:q(()=>[P(U(l.label),1)]),_:2},1032,["to","icon","color"]))),128))],2)])}}});export{X as default};
